2023-06-08 09:41:52.337: FINEST: Root: AppGqlClient (anonymous) will be created via lazyPut
2023-06-08 09:41:52.338: FINEST: Root: Login status has changed
2023-06-08 09:41:52.338: FINEST: Root: AppGqlClient (user) will be deleted
2023-06-08 09:41:52.339: FINEST: Root: AppGqlClient (admin) will be deleted
2023-06-08 09:41:52.339: FINEST: Root: AppGqlClient (trail_admin) will be deleted
2023-06-08 09:41:52.339: FINEST: Root: AppGqlClient (org_admin) will be deleted
2023-06-08 09:41:52.683: INFO: Common.Auth: Arrived user from Firebase null
2023-06-08 09:42:08.918: INFO: Common.Auth: Arrived user from Firebase User(displayName: null, email: jani9876@gmail.com, emailVerified: true, isAnonymous: false, metadata: UserMetadata(creationTime: 2021-04-23 17:23:28.000Z, lastSignInTime: 2023-06-08 07:42:08.000Z), phoneNumber: null, photoURL: null, providerData, [UserInfo(displayName: null, email: jani9876@gmail.com, phoneNumber: null, photoURL: null, providerId: password, uid: jani9876@gmail.com)], refreshToken: APZUo0TJAwaThSxXydEuiY1sCy9M33q9opLakd-YNtYheWmyEnThgxjYBEpcmxcMsGfShCU6_AYGT6Yi3ouUk2hZ34e07Vo3Xxptb6bwmmo3ZKOggapd9QRbd-e6EmUqXuKRUJRTdNt7l8qWODyJyg8omiaX3-gTjjz_A4VfDhRBgHktkZ9v9wByVvvlM9bKTsqV38K0hTgxcZmka0Dy8ZJAhJeSHI773Q, tenantId: null, uid: 6npJx61xNsYlNr0BVLoS5V6XeJf2)
2023-06-08 09:42:08.919: FINEST: Root: Login status has changed
2023-06-08 09:42:08.919: FINEST: Root: AppGqlClient (user) will be created via lazyPut
2023-06-08 09:42:08.919: FINEST: Root: AppGqlClient (admin) will be created via lazyPut
2023-06-08 09:42:08.920: FINEST: Root: AppGqlClient (trail_admin) will be created via lazyPut
2023-06-08 09:42:08.920: FINEST: Root: AppGqlClient (org_admin) will be created via lazyPut
2023-06-08 09:42:09.158: INFO: gql.AppGqlClient: Enqueue 0 mutations from persistence
2023-06-08 09:42:09.158: INFO: gql.AppGqlClient: Enqueue 0 path points
2023-06-08 09:42:09.158: INFO: gql.AppGqlClient: Enqueue done
2023-06-08 09:42:09.165: INFO: gql.links.LogRequestsLink: Request sent: GetCurrentUserProfile
2023-06-08 09:42:09.233: INFO: gql.links.LogRequestsLink: Request sent: GetCompletedActivitiesCount
2023-06-08 09:42:09.253: INFO: gql.AppGqlClient: Enqueue 0 mutations from persistence
2023-06-08 09:42:09.253: INFO: gql.AppGqlClient: Enqueue done
2023-06-08 09:42:09.263: INFO: gql.links.LogRequestsLink: Request sent: GetPendingReviewCount
2023-06-08 09:42:09.269: INFO: gql.links.LogRequestsLink: Request sent: GetPendingActivityCount
2023-06-08 09:42:09.277: INFO: gql.links.LogRequestsLink: Request sent: GetTrails
2023-06-08 09:42:09.288: INFO: gql.links.LogRequestsLink: Request sent: GetActivities
2023-06-08 09:42:09.303: INFO: gql.links.LogRequestsLink: Request sent: GetActivities
2023-06-08 09:42:09.311: INFO: gql.links.LogRequestsLink: Request sent: GetActivities
2023-06-08 09:42:09.333: INFO: gql.links.LogRequestsLink: Request sent: GetActivities
2023-06-08 09:42:09.345: INFO: gql.links.LogRequestsLink: Request sent: GetActivities
2023-06-08 09:42:09.384: FINEST: gql.links.MultiMutationLink: (GetCurrentUserProfile/1399997776): Incoming request: GetCurrentUserProfile#1399997776 {id: 6npJx61xNsYlNr0BVLoS5V6XeJf2}
2023-06-08 09:42:09.389: FINEST: gql.links.MultiMutationLink: (GetCurrentUserProfile/1399997776): Listener arrived
2023-06-08 09:42:09.391: FINEST: gql.links.MultiMutationLink: (GetCurrentUserProfile/1399997776): Waiting for first response...
2023-06-08 09:42:09.395: INFO: gql.WebSocketLink.78322165: Incoming request GetCurrentUserProfile#1642812320 (396e3b68-199c-401d-8b00-0c36553c73b1) {"id":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2023-06-08 09:42:09.396: FINE: gql.WebSocketLink.78322165: Listening on GetCurrentUserProfile#1642812320 (396e3b68-199c-401d-8b00-0c36553c73b1) {"id":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2023-06-08 09:42:09.397: INFO: gql.WebSocketLink.78322165: connect(198316): Connecting...
2023-06-08 09:42:09.397: INFO: gql.WebSocketLink.78322165: Change status to connecting
2023-06-08 09:42:09.397: FINE: gql.WebSocketLink.78322165: connect(198316): Run channel generator
2023-06-08 09:42:09.403: FINEST: gql.WebSocketLink.78322165: Encoded message: {"type":"connection_init","payload":{"headers":{"Authorization":"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IjU0NWUyNDZjNTEwNmExMGQ2MzFiMTA0M2E3MWJiNTllNWJhMGM5NGQiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vaW5zdGF0cmFpbC1jMTQ2YiIsImF1ZCI6Imluc3RhdHJhaWwtYzE0NmIiLCJhdXRoX3RpbWUiOjE2ODYyMTAxMjgsInVzZXJfaWQiOiI2bnBKeDYxeE5zWWxOcjBCVkxvUzVWNlhlSmYyIiwic3ViIjoiNm5wSng2MXhOc1lsTnIwQlZMb1M1VjZYZUpmMiIsImlhdCI6MTY4NjIxMDEyOCwiZXhwIjoxNjg2MjEzNzI4LCJlbWFpbCI6Imphbmk5ODc2QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7ImVtYWlsIjpbImphbmk5ODc2QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6InBhc3N3b3JkIn19.bH6N5Ms-hHQJ9dSVWcXKwNJfJao9KjslVVF7NcxTWlN3QDJVVaKjRJY3a9XXvC_q9chwopYAcdwCdf0QB30MI-rEw3TF44VA2r-8C7FKK8WsYINCHYSojIj7hnP3g7htWkS9cvjAmd3AW6umN3HhUCPgD-V7RsOhPCWLegI-DEJJ8mQeEdANWih7vpU1VNiTufWjldLLJEZ_yvyB3D5HAhSFS8p0ZNabvglOofjNAlvlue_zTb0WiGUwS_GNLyumQxlFdNVkxWe-vswB_mfQhgcIQOP51zDjWJjp8FK5SvQ8yumH4Zb-g75AgyNEbX3saRBU_bNhMsGgDYpMC1ux7w","X-Hasura-Role":"user"}}}
2023-06-08 09:42:09.403: INFO: gql.WebSocketLink.78322165: connect(198316): ws(755968461): sub(170697139): Initial payload sent, wait for ack
2023-06-08 09:42:09.416: FINEST: gql.links.MultiMutationLink: (GetPendingReviewCount/1615186055): Incoming request: GetPendingReviewCount#1615186055 {uid: 6npJx61xNsYlNr0BVLoS5V6XeJf2}
2023-06-08 09:42:09.420: FINEST: gql.links.MultiMutationLink: (GetPendingReviewCount/1615186055): Listener arrived
2023-06-08 09:42:09.421: FINEST: gql.links.MultiMutationLink: (GetPendingReviewCount/1615186055): Waiting for first response...
2023-06-08 09:42:09.422: INFO: gql.WebSocketLink.855932121: Incoming request GetPendingReviewCount#476812840 (ca2aa2a4-9714-4164-a4cd-35fe9dbddfc3) {"uid":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2023-06-08 09:42:09.424: FINE: gql.WebSocketLink.855932121: Listening on GetPendingReviewCount#476812840 (ca2aa2a4-9714-4164-a4cd-35fe9dbddfc3) {"uid":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2023-06-08 09:42:09.424: INFO: gql.WebSocketLink.855932121: connect(127574): Connecting...
2023-06-08 09:42:09.424: INFO: gql.WebSocketLink.855932121: Change status to connecting
2023-06-08 09:42:09.424: FINE: gql.WebSocketLink.855932121: connect(127574): Run channel generator
2023-06-08 09:42:09.426: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"connection_init","payload":{"headers":{"Authorization":"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IjU0NWUyNDZjNTEwNmExMGQ2MzFiMTA0M2E3MWJiNTllNWJhMGM5NGQiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vaW5zdGF0cmFpbC1jMTQ2YiIsImF1ZCI6Imluc3RhdHJhaWwtYzE0NmIiLCJhdXRoX3RpbWUiOjE2ODYyMTAxMjgsInVzZXJfaWQiOiI2bnBKeDYxeE5zWWxOcjBCVkxvUzVWNlhlSmYyIiwic3ViIjoiNm5wSng2MXhOc1lsTnIwQlZMb1M1VjZYZUpmMiIsImlhdCI6MTY4NjIxMDEyOCwiZXhwIjoxNjg2MjEzNzI4LCJlbWFpbCI6Imphbmk5ODc2QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7ImVtYWlsIjpbImphbmk5ODc2QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6InBhc3N3b3JkIn19.bH6N5Ms-hHQJ9dSVWcXKwNJfJao9KjslVVF7NcxTWlN3QDJVVaKjRJY3a9XXvC_q9chwopYAcdwCdf0QB30MI-rEw3TF44VA2r-8C7FKK8WsYINCHYSojIj7hnP3g7htWkS9cvjAmd3AW6umN3HhUCPgD-V7RsOhPCWLegI-DEJJ8mQeEdANWih7vpU1VNiTufWjldLLJEZ_yvyB3D5HAhSFS8p0ZNabvglOofjNAlvlue_zTb0WiGUwS_GNLyumQxlFdNVkxWe-vswB_mfQhgcIQOP51zDjWJjp8FK5SvQ8yumH4Zb-g75AgyNEbX3saRBU_bNhMsGgDYpMC1ux7w","X-Hasura-Role":"trail_admin"}}}
2023-06-08 09:42:09.426: INFO: gql.WebSocketLink.855932121: connect(127574): ws(971362736): sub(373547515): Initial payload sent, wait for ack
2023-06-08 09:42:09.428: FINEST: gql.links.MultiMutationLink: (GetCompletedActivitiesCount/391293877): Incoming request: GetCompletedActivitiesCount#391293877 {userId: 6npJx61xNsYlNr0BVLoS5V6XeJf2}
2023-06-08 09:42:09.430: FINEST: gql.links.MultiMutationLink: (GetCompletedActivitiesCount/391293877): Listener arrived
2023-06-08 09:42:09.431: FINEST: gql.links.MultiMutationLink: (GetCompletedActivitiesCount/391293877): Waiting for first response...
2023-06-08 09:42:09.431: INFO: gql.WebSocketLink.78322165: Incoming request GetCompletedActivitiesCount#816116498 (5c241c98-a286-43a9-9a1b-16c345c1ed80) {"userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2023-06-08 09:42:09.432: FINE: gql.WebSocketLink.78322165: Listening on GetCompletedActivitiesCount#816116498 (5c241c98-a286-43a9-9a1b-16c345c1ed80) {"userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2023-06-08 09:42:09.438: FINEST: gql.links.MultiMutationLink: (GetPendingActivityCount/1236387979): Incoming request: GetPendingActivityCount#1236387979 {uid: 6npJx61xNsYlNr0BVLoS5V6XeJf2}
2023-06-08 09:42:09.441: FINEST: gql.links.MultiMutationLink: (GetPendingActivityCount/1236387979): Listener arrived
2023-06-08 09:42:09.442: FINEST: gql.links.MultiMutationLink: (GetPendingActivityCount/1236387979): Waiting for first response...
2023-06-08 09:42:09.443: INFO: gql.WebSocketLink.855932121: Incoming request GetPendingActivityCount#1111655240 (251510da-d6d9-42c2-8be5-7a7a5a47552d) {"uid":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2023-06-08 09:42:09.444: FINE: gql.WebSocketLink.855932121: Listening on GetPendingActivityCount#1111655240 (251510da-d6d9-42c2-8be5-7a7a5a47552d) {"uid":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2023-06-08 09:42:09.452: FINEST: gql.links.MultiMutationLink: (GetTrails/1476613034): Incoming request: GetTrails#1476613034 {orderBy: asc, userId: 6npJx61xNsYlNr0BVLoS5V6XeJf2, onlyNotDeleted: true}
2023-06-08 09:42:09.457: FINEST: gql.links.MultiMutationLink: (GetTrails/1476613034): Listener arrived
2023-06-08 09:42:09.460: FINEST: gql.links.MultiMutationLink: (GetTrails/1476613034): Waiting for first response...
2023-06-08 09:42:09.463: INFO: gql.WebSocketLink.855932121: Incoming request GetTrails#426697583 (af96e02a-ba76-4f17-a1d4-9a53c936b18b) {"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":true}
2023-06-08 09:42:09.465: FINE: gql.WebSocketLink.855932121: Listening on GetTrails#426697583 (af96e02a-ba76-4f17-a1d4-9a53c936b18b) {"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":true}
2023-06-08 09:42:09.474: FINEST: gql.links.MultiMutationLink: (GetActivities/1336074215): Incoming request: GetActivities#1336074215 {trunc: HOUR, tzoffset: 2}
2023-06-08 09:42:09.479: FINEST: gql.links.MultiMutationLink: (GetActivities/1336074215): Listener arrived
2023-06-08 09:42:09.480: FINEST: gql.links.MultiMutationLink: (GetActivities/1336074215): Waiting for first response...
2023-06-08 09:42:09.483: INFO: gql.WebSocketLink.855932121: Incoming request GetActivities#52045382 (5e11619e-f0cd-433d-919d-e14b9cb2a1c6) {"trunc":"HOUR","tzoffset":2}
2023-06-08 09:42:09.484: FINE: gql.WebSocketLink.855932121: Listening on GetActivities#52045382 (5e11619e-f0cd-433d-919d-e14b9cb2a1c6) {"trunc":"HOUR","tzoffset":2}
2023-06-08 09:42:09.492: FINEST: gql.links.MultiMutationLink: (GetActivities/1336074215): Incoming request: GetActivities#1336074215 {trunc: HOUR, tzoffset: 2}
2023-06-08 09:42:09.496: FINEST: gql.links.MultiMutationLink: (GetActivities/1336074215): Listener arrived
2023-06-08 09:42:09.504: FINEST: gql.links.MultiMutationLink: (GetActivities/1496401076): Incoming request: GetActivities#1496401076 {trunc: DAY, tzoffset: 2}
2023-06-08 09:42:09.508: FINEST: gql.links.MultiMutationLink: (GetActivities/1496401076): Listener arrived
2023-06-08 09:42:09.519: FINEST: gql.links.MultiMutationLink: (GetActivities/1496401076): Incoming request: GetActivities#1496401076 {trunc: DAY, tzoffset: 2}
2023-06-08 09:42:09.524: FINEST: gql.links.MultiMutationLink: (GetActivities/1496401076): Listener arrived
2023-06-08 09:42:09.532: FINEST: gql.links.MultiMutationLink: (GetActivities/399770136): Incoming request: GetActivities#399770136 {trunc: MONTH, tzoffset: 2}
2023-06-08 09:42:09.537: FINEST: gql.links.MultiMutationLink: (GetActivities/399770136): Listener arrived
2023-06-08 09:42:09.645: FINEST: gql.WebSocketLink.78322165: Message to decode: {"type":"connection_ack"}
2023-06-08 09:42:09.645: INFO: gql.WebSocketLink.78322165: connect(198316): ws(755968461): sub(170697139): Got connection ack
2023-06-08 09:42:09.646: FINE: gql.WebSocketLink.78322165: Restarting 0 requests
2023-06-08 09:42:09.646: INFO: gql.WebSocketLink.78322165: connect(198316): ws(755968461): sub(170697139): Connection initialized
2023-06-08 09:42:09.646: INFO: gql.WebSocketLink.78322165: Change status to connected
2023-06-08 09:42:09.646: FINEST: gql.WebSocketLink.78322165: connect(198316): ws(755968461): sub(170697139): Finished successfully
2023-06-08 09:42:09.646: FINE: gql.WebSocketLink.78322165: Send StartOperation for 396e3b68-199c-401d-8b00-0c36553c73b1
2023-06-08 09:42:09.647: FINEST: gql.WebSocketLink.78322165: connect(106418): ws(1051460532): Finished successfully
2023-06-08 09:42:09.647: FINE: gql.WebSocketLink.78322165: Send StartOperation for 5c241c98-a286-43a9-9a1b-16c345c1ed80
2023-06-08 09:42:09.648: FINEST: gql.WebSocketLink.78322165: Encoded message: {"type":"start","id":"396e3b68-199c-401d-8b00-0c36553c73b1","payload":{"operationName":"GetCurrentUserProfile","variables":{"id":"6npJx61xNsYlNr0BVLoS5V6XeJf2"},"query":"subscription GetCurrentUserProfile($id: String!) {\n  vw_full_profile(where: {id: {_eq: $id}}) {\n    __typename\n    ...FullProfile\n  }\n}\n\nquery GetProfile($id: String!) {\n  __typename\n  vw_full_profile(where: {id: {_eq: $id}}) {\n    __typename\n    ...FullProfile\n  }\n}\n\nsubscription GetCompletedActivitiesCount($userId: String!) {\n  activity_aggregate(where: {_and: {created_by_id: {_eq: $userId}, end_at: {_is_null: false}}}) {\n    __typename\n    aggregate {\n      __typename\n      count\n    }\n  }\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}"}}
2023-06-08 09:42:09.648: FINEST: gql.WebSocketLink.78322165: Encoded message: {"type":"start","id":"5c241c98-a286-43a9-9a1b-16c345c1ed80","payload":{"operationName":"GetCompletedActivitiesCount","variables":{"userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2"},"query":"subscription GetCurrentUserProfile($id: String!) {\n  vw_full_profile(where: {id: {_eq: $id}}) {\n    __typename\n    ...FullProfile\n  }\n}\n\nquery GetProfile($id: String!) {\n  __typename\n  vw_full_profile(where: {id: {_eq: $id}}) {\n    __typename\n    ...FullProfile\n  }\n}\n\nsubscription GetCompletedActivitiesCount($userId: String!) {\n  activity_aggregate(where: {_and: {created_by_id: {_eq: $userId}, end_at: {_is_null: false}}}) {\n    __typename\n    aggregate {\n      __typename\n      count\n    }\n  }\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}"}}
2023-06-08 09:42:09.648: FINEST: gql.WebSocketLink.78322165: ... send done for 396e3b68-199c-401d-8b00-0c36553c73b1
2023-06-08 09:42:09.648: FINEST: gql.WebSocketLink.78322165: ... send done for 5c241c98-a286-43a9-9a1b-16c345c1ed80
2023-06-08 09:42:09.652: INFO: gql.WebSocketLink.78322165: Change status to idle
2023-06-08 09:42:09.851: FINEST: gql.WebSocketLink.855932121: Message to decode: {"type":"connection_ack"}
2023-06-08 09:42:09.851: INFO: gql.WebSocketLink.855932121: connect(127574): ws(971362736): sub(373547515): Got connection ack
2023-06-08 09:42:09.851: FINE: gql.WebSocketLink.855932121: Restarting 0 requests
2023-06-08 09:42:09.852: INFO: gql.WebSocketLink.855932121: connect(127574): ws(971362736): sub(373547515): Connection initialized
2023-06-08 09:42:09.852: INFO: gql.WebSocketLink.855932121: Change status to connected
2023-06-08 09:42:09.852: FINEST: gql.WebSocketLink.855932121: connect(127574): ws(971362736): sub(373547515): Finished successfully
2023-06-08 09:42:09.852: FINE: gql.WebSocketLink.855932121: Send StartOperation for ca2aa2a4-9714-4164-a4cd-35fe9dbddfc3
2023-06-08 09:42:09.854: FINEST: gql.WebSocketLink.855932121: connect(183864): ws(147343131): Finished successfully
2023-06-08 09:42:09.854: FINE: gql.WebSocketLink.855932121: Send StartOperation for 251510da-d6d9-42c2-8be5-7a7a5a47552d
2023-06-08 09:42:09.855: FINEST: gql.WebSocketLink.855932121: connect(194947): ws(951930444): Finished successfully
2023-06-08 09:42:09.856: FINE: gql.WebSocketLink.855932121: Send StartOperation for af96e02a-ba76-4f17-a1d4-9a53c936b18b
2023-06-08 09:42:09.860: FINEST: gql.WebSocketLink.855932121: connect(198620): ws(814181499): Finished successfully
2023-06-08 09:42:09.861: FINE: gql.WebSocketLink.855932121: Send StartOperation for 5e11619e-f0cd-433d-919d-e14b9cb2a1c6
2023-06-08 09:42:09.863: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"start","id":"ca2aa2a4-9714-4164-a4cd-35fe9dbddfc3","payload":{"operationName":"GetPendingReviewCount","variables":{"uid":"6npJx61xNsYlNr0BVLoS5V6XeJf2"},"query":"subscription GetAdminEntries($orderBy: [activity_order_by!], $adminId: String!) {\n  activity(order_by: $orderBy, where: {_and: {start_at: {_is_null: true}, giveup_at: {_is_null: true}, trail_config: {trail: {created_by_id: {_eq: $adminId}}}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    bill_ref_code\n    trail_config {\n      __typename\n      limit_seconds\n      activity_type {\n        __typename\n        material_icon_name\n      }\n      reward_type {\n        __typename\n        material_icon_name\n      }\n      ...TrailConfig\n      trail {\n        __typename\n        id\n        name\n        deleted_at\n        original_id\n      }\n    }\n    created_at\n    created_by_id\n    created_by {\n      __typename\n      ...ProfileExt\n    }\n    evaluated_by {\n      __typename\n      ...Profile\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription GetPendingActivityCount($uid: String!) {\n  activity_aggregate(where: {_and: {start_at: {_is_null: true}, giveup_at: {_is_null: true}, rejected_at: {_is_null: true}, approved_at: {_is_null: true}, trail_config: {approve_required: {_eq: true}, trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $uid}}}}}}, deleted_at: {_is_null: true}}}) {\n    __typename\n    aggregate {\n      __typename\n      count\n    }\n  }\n}\n\nsubscription GetPendingReviewCount($uid: String!) {\n  review_aggregate(where: {deleted_at: {_is_null: true}, rejected_at: {_is_null: true}, accepted_at: {_is_null: true}, activity: {deleted_at: {_is_null: true}, trail_config: {trail: {deleted_at: {_is_null: true}, organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $uid}}}}}}}}) {\n    __typename\n    aggregate {\n      __typename\n      count\n    }\n  }\n}\n\nmutation ApproveActivity($activityId: uuid!, $adminId: String!, $approved_at: timestamptz = \"\") {\n  __typename\n  update_activity_by_pk(pk_columns: {id: $activityId}, _set: {evaluated_by_id: $adminId, approved_at: $approved_at}) {\n    __typename\n    id\n    ...ActivityStateFields\n  }\n}\n\nmutation DeclineActivity($time: timestamptz, $adminId: String!, $activityId: uuid!) {\n  __typename\n  update_activity_by_pk(pk_columns: {id: $activityId}, _set: {evaluated_by_id: $adminId, rejected_at: $time}) {\n    __typename\n    id\n    ...ActivityStateFields\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  deleted_at\n  summary_path\n  shadow_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}"}}
2023-06-08 09:42:09.863: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"start","id":"251510da-d6d9-42c2-8be5-7a7a5a47552d","payload":{"operationName":"GetPendingActivityCount","variables":{"uid":"6npJx61xNsYlNr0BVLoS5V6XeJf2"},"query":"subscription GetAdminEntries($orderBy: [activity_order_by!], $adminId: String!) {\n  activity(order_by: $orderBy, where: {_and: {start_at: {_is_null: true}, giveup_at: {_is_null: true}, trail_config: {trail: {created_by_id: {_eq: $adminId}}}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    bill_ref_code\n    trail_config {\n      __typename\n      limit_seconds\n      activity_type {\n        __typename\n        material_icon_name\n      }\n      reward_type {\n        __typename\n        material_icon_name\n      }\n      ...TrailConfig\n      trail {\n        __typename\n        id\n        name\n        deleted_at\n        original_id\n      }\n    }\n    created_at\n    created_by_id\n    created_by {\n      __typename\n      ...ProfileExt\n    }\n    evaluated_by {\n      __typename\n      ...Profile\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription GetPendingActivityCount($uid: String!) {\n  activity_aggregate(where: {_and: {start_at: {_is_null: true}, giveup_at: {_is_null: true}, rejected_at: {_is_null: true}, approved_at: {_is_null: true}, trail_config: {approve_required: {_eq: true}, trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $uid}}}}}}, deleted_at: {_is_null: true}}}) {\n    __typename\n    aggregate {\n      __typename\n      count\n    }\n  }\n}\n\nsubscription GetPendingReviewCount($uid: String!) {\n  review_aggregate(where: {deleted_at: {_is_null: true}, rejected_at: {_is_null: true}, accepted_at: {_is_null: true}, activity: {deleted_at: {_is_null: true}, trail_config: {trail: {deleted_at: {_is_null: true}, organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $uid}}}}}}}}) {\n    __typename\n    aggregate {\n      __typename\n      count\n    }\n  }\n}\n\nmutation ApproveActivity($activityId: uuid!, $adminId: String!, $approved_at: timestamptz = \"\") {\n  __typename\n  update_activity_by_pk(pk_columns: {id: $activityId}, _set: {evaluated_by_id: $adminId, approved_at: $approved_at}) {\n    __typename\n    id\n    ...ActivityStateFields\n  }\n}\n\nmutation DeclineActivity($time: timestamptz, $adminId: String!, $activityId: uuid!) {\n  __typename\n  update_activity_by_pk(pk_columns: {id: $activityId}, _set: {evaluated_by_id: $adminId, rejected_at: $time}) {\n    __typename\n    id\n    ...ActivityStateFields\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  deleted_at\n  summary_path\n  shadow_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}"}}
2023-06-08 09:42:09.864: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"start","id":"af96e02a-ba76-4f17-a1d4-9a53c936b18b","payload":{"operationName":"GetTrails","variables":{"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":true},"query":"query GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    pending_reviews_total\n    ...Trail\n    deleted_at\n  }\n}\n\nsubscription GetTrailByOrigId($originalId: uuid!) {\n  trail(where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription AdminQueryOrigTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {deleted_at: {_is_null: true}, original_id: {_eq: $originalId}}) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nsubscription AdminQueryVersionDetails($trailId: uuid!) {\n  trail_by_pk(id: $trailId) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n        original_id\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n    original_trail {\n      __typename\n      trail_link {\n        __typename\n        id\n      }\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nmutation UpsertCheckpointFileOne($file_id: uuid!, $checkpoint_id: uuid!) {\n  __typename\n  insert_checkpoint_file_one(object: {file_id: $file_id, checkpoint_id: $checkpoint_id}, on_conflict: {constraint: checkpoint_file_pkey, update_columns: file_id}) {\n    __typename\n    id\n  }\n}\n\nmutation SoftDeleteFile($id: uuid, $delete_after: timestamptz) {\n  __typename\n  update_file(where: {id: {_eq: $id}}, _set: {delete_after: $delete_after}) {\n    __typename\n    affected_rows\n  }\n}\n\nsubscription GetPendingReviewCountByTrail($uid: String!, $trailId: uuid!) {\n  review_aggregate(where: {rejected_at: {_is_null: true}, accepted_at: {_is_null: true}, activity: {trail_config: {trail: {_and: {id: {_eq: $trailId}, organisation: {organisation_memberships: {user_id: {_eq: $uid}}}}}}}}) {\n    __typename\n    aggregate {\n      __typename\n      count\n    }\n  }\n}\n\nmutation InsertTrailLink($trail_id: uuid!, $long_url: String) {\n  __typename\n  insert_trail_link_one(object: {trail_link_id_fkey: {data: {long_url: $long_url}}, trail_id: $trail_id}) {\n    __typename\n    trail_link_id_fkey {\n      __typename\n      short_url\n    }\n  }\n}\n\nmutation InsertActivityLink($activity_id: uuid!, $long_url: String) {\n  __typename\n  insert_activity_link_one(object: {perma_link: {data: {long_url: $long_url}}, activity_id: $activity_id}) {\n    __typename\n    perma_link {\n      __typename\n      short_url\n    }\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  checkpoint_file {\n    __typename\n    ...CheckpointFile\n  }\n}\n\nfragment CheckpointFile on checkpoint_file {\n  __typename\n  id\n  file_id\n  checkpoint_id\n  file {\n    __typename\n    ...File\n  }\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment File on file {\n  __typename\n  id\n  uri\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  deleted_at\n  summary_path\n  shadow_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  deleted_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  reviews {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n  deleted_at\n}\n\nfragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nfragment TrailDetails on trail {\n  __typename\n  ...Trail\n  checkpoints(order_by: {index: asc}) {\n    __typename\n    ...Checkpoint\n  }\n  original_trail {\n    __typename\n    id\n    trail_link {\n      __typename\n      id\n      link_id\n      trail_link_id_fkey {\n        __typename\n        long_url\n      }\n    }\n  }\n  trail_path\n  organisation {\n    __typename\n    id\n    organisation_memberships(where: {member_type: {_eq: admin}}) {\n      __typename\n      member_type\n      id\n      profile {\n        __typename\n        name\n      }\n    }\n  }\n  ...NewEntryStepsFields\n}"}}
2023-06-08 09:42:09.864: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"start","id":"5e11619e-f0cd-433d-919d-e14b9cb2a1c6","payload":{"operationName":"GetActivities","variables":{"trunc":"HOUR","tzoffset":2},"query":"query GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    pending_reviews_total\n    ...Trail\n    deleted_at\n  }\n}\n\nsubscription GetTrailByOrigId($originalId: uuid!) {\n  trail(where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription AdminQueryOrigTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {deleted_at: {_is_null: true}, original_id: {_eq: $originalId}}) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nsubscription AdminQueryVersionDetails($trailId: uuid!) {\n  trail_by_pk(id: $trailId) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n        original_id\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n    original_trail {\n      __typename\n      trail_link {\n        __typename\n        id\n      }\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nmutation UpsertCheckpointFileOne($file_id: uuid!, $checkpoint_id: uuid!) {\n  __typename\n  insert_checkpoint_file_one(object: {file_id: $file_id, checkpoint_id: $checkpoint_id}, on_conflict: {constraint: checkpoint_file_pkey, update_columns: file_id}) {\n    __typename\n    id\n  }\n}\n\nmutation SoftDeleteFile($id: uuid, $delete_after: timestamptz) {\n  __typename\n  update_file(where: {id: {_eq: $id}}, _set: {delete_after: $delete_after}) {\n    __typename\n    affected_rows\n  }\n}\n\nsubscription GetPendingReviewCountByTrail($uid: String!, $trailId: uuid!) {\n  review_aggregate(where: {rejected_at: {_is_null: true}, accepted_at: {_is_null: true}, activity: {trail_config: {trail: {_and: {id: {_eq: $trailId}, organisation: {organisation_memberships: {user_id: {_eq: $uid}}}}}}}}) {\n    __typename\n    aggregate {\n      __typename\n      count\n    }\n  }\n}\n\nmutation InsertTrailLink($trail_id: uuid!, $long_url: String) {\n  __typename\n  insert_trail_link_one(object: {trail_link_id_fkey: {data: {long_url: $long_url}}, trail_id: $trail_id}) {\n    __typename\n    trail_link_id_fkey {\n      __typename\n      short_url\n    }\n  }\n}\n\nmutation InsertActivityLink($activity_id: uuid!, $long_url: String) {\n  __typename\n  insert_activity_link_one(object: {perma_link: {data: {long_url: $long_url}}, activity_id: $activity_id}) {\n    __typename\n    perma_link {\n      __typename\n      short_url\n    }\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  checkpoint_file {\n    __typename\n    ...CheckpointFile\n  }\n}\n\nfragment CheckpointFile on checkpoint_file {\n  __typename\n  id\n  file_id\n  checkpoint_id\n  file {\n    __typename\n    ...File\n  }\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment File on file {\n  __typename\n  id\n  uri\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  deleted_at\n  summary_path\n  shadow_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  deleted_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  reviews {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n  deleted_at\n}\n\nfragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nfragment TrailDetails on trail {\n  __typename\n  ...Trail\n  checkpoints(order_by: {index: asc}) {\n    __typename\n    ...Checkpoint\n  }\n  original_trail {\n    __typename\n    id\n    trail_link {\n      __typename\n      id\n      link_id\n      trail_link_id_fkey {\n        __typename\n        long_url\n      }\n    }\n  }\n  trail_path\n  organisation {\n    __typename\n    id\n    organisation_memberships(where: {member_type: {_eq: admin}}) {\n      __typename\n      member_type\n      id\n      profile {\n        __typename\n        name\n      }\n    }\n  }\n  ...NewEntryStepsFields\n}"}}
2023-06-08 09:42:09.864: FINEST: gql.WebSocketLink.855932121: ... send done for ca2aa2a4-9714-4164-a4cd-35fe9dbddfc3
2023-06-08 09:42:09.864: FINEST: gql.WebSocketLink.855932121: ... send done for 251510da-d6d9-42c2-8be5-7a7a5a47552d
2023-06-08 09:42:09.864: FINEST: gql.WebSocketLink.855932121: ... send done for af96e02a-ba76-4f17-a1d4-9a53c936b18b
2023-06-08 09:42:09.865: FINEST: gql.WebSocketLink.855932121: ... send done for 5e11619e-f0cd-433d-919d-e14b9cb2a1c6
2023-06-08 09:42:09.868: INFO: gql.WebSocketLink.855932121: Change status to idle
2023-06-08 09:42:09.927: FINEST: gql.WebSocketLink.855932121: Message to decode: {"type":"data","id":"af96e02a-ba76-4f17-a1d4-9a53c936b18b","payload":{"data":{"trail" : []}}}
2023-06-08 09:42:09.928: INFO: gql.WebSocketLink.855932121: Change status to connected
2023-06-08 09:42:09.929: FINER: gql.links.RetryUntilResponseLink: (GetTrails#1476613034): Got data
2023-06-08 09:42:09.930: FINEST: gql.links.MultiMutationLink: (GetTrails/1476613034): Got first response
2023-06-08 09:42:09.930: INFO: gql.links.MultiMutationLink: (GetTrails/1476613034): is done
2023-06-08 09:42:09.931: FINEST: gql.links.MultiMutationLink: (GetTrails/1476613034): Throttling query response...
2023-06-08 09:42:09.933: FINEST: gql.links.MultiMutationLink: (GetTrails/1476613034): Releasing response for GetTrails#1476613034 {orderBy: asc, userId: 6npJx61xNsYlNr0BVLoS5V6XeJf2, onlyNotDeleted: true}
2023-06-08 09:42:09.939: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetTrails
2023-06-08 09:42:09.966: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2023-06-08 09:42:09.975: FINEST: gql.WebSocketLink.855932121: Message to decode: {"type":"data","id":"5e11619e-f0cd-433d-919d-e14b9cb2a1c6","payload":{"data":{"ob_get_activities" : []}}}
2023-06-08 09:42:09.976: FINER: gql.links.RetryUntilResponseLink: (GetActivities#1336074215): Got data
2023-06-08 09:42:09.976: FINEST: gql.links.MultiMutationLink: (GetActivities/1336074215): Got first response
2023-06-08 09:42:09.976: INFO: gql.links.MultiMutationLink: (GetActivities/1336074215): is done
2023-06-08 09:42:09.976: FINEST: gql.links.MultiMutationLink: (GetActivities/1336074215): Waiting for first response...
2023-06-08 09:42:09.979: INFO: gql.WebSocketLink.855932121: Incoming request GetActivities#2030351194 (df3bbf9d-72aa-46f9-8b66-ee3a6bde8ed7) {"trunc":"HOUR","tzoffset":2}
2023-06-08 09:42:09.981: FINE: gql.WebSocketLink.855932121: Listening on GetActivities#2030351194 (df3bbf9d-72aa-46f9-8b66-ee3a6bde8ed7) {"trunc":"HOUR","tzoffset":2}
2023-06-08 09:42:09.982: FINEST: gql.links.MultiMutationLink: (GetActivities/1336074215): Throttling query response...
2023-06-08 09:42:09.982: FINEST: gql.WebSocketLink.855932121: connect(184626): ws(921014377): Finished successfully
2023-06-08 09:42:09.982: FINE: gql.WebSocketLink.855932121: Send StartOperation for df3bbf9d-72aa-46f9-8b66-ee3a6bde8ed7
2023-06-08 09:42:09.985: FINEST: gql.links.MultiMutationLink: (GetActivities/1336074215): Releasing response for GetActivities#1336074215 {trunc: HOUR, tzoffset: 2}
2023-06-08 09:42:09.986: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"start","id":"df3bbf9d-72aa-46f9-8b66-ee3a6bde8ed7","payload":{"operationName":"GetActivities","variables":{"trunc":"HOUR","tzoffset":2},"query":"query GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    pending_reviews_total\n    ...Trail\n    deleted_at\n  }\n}\n\nsubscription GetTrailByOrigId($originalId: uuid!) {\n  trail(where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription AdminQueryOrigTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {deleted_at: {_is_null: true}, original_id: {_eq: $originalId}}) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nsubscription AdminQueryVersionDetails($trailId: uuid!) {\n  trail_by_pk(id: $trailId) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n        original_id\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n    original_trail {\n      __typename\n      trail_link {\n        __typename\n        id\n      }\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nmutation UpsertCheckpointFileOne($file_id: uuid!, $checkpoint_id: uuid!) {\n  __typename\n  insert_checkpoint_file_one(object: {file_id: $file_id, checkpoint_id: $checkpoint_id}, on_conflict: {constraint: checkpoint_file_pkey, update_columns: file_id}) {\n    __typename\n    id\n  }\n}\n\nmutation SoftDeleteFile($id: uuid, $delete_after: timestamptz) {\n  __typename\n  update_file(where: {id: {_eq: $id}}, _set: {delete_after: $delete_after}) {\n    __typename\n    affected_rows\n  }\n}\n\nsubscription GetPendingReviewCountByTrail($uid: String!, $trailId: uuid!) {\n  review_aggregate(where: {rejected_at: {_is_null: true}, accepted_at: {_is_null: true}, activity: {trail_config: {trail: {_and: {id: {_eq: $trailId}, organisation: {organisation_memberships: {user_id: {_eq: $uid}}}}}}}}) {\n    __typename\n    aggregate {\n      __typename\n      count\n    }\n  }\n}\n\nmutation InsertTrailLink($trail_id: uuid!, $long_url: String) {\n  __typename\n  insert_trail_link_one(object: {trail_link_id_fkey: {data: {long_url: $long_url}}, trail_id: $trail_id}) {\n    __typename\n    trail_link_id_fkey {\n      __typename\n      short_url\n    }\n  }\n}\n\nmutation InsertActivityLink($activity_id: uuid!, $long_url: String) {\n  __typename\n  insert_activity_link_one(object: {perma_link: {data: {long_url: $long_url}}, activity_id: $activity_id}) {\n    __typename\n    perma_link {\n      __typename\n      short_url\n    }\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  checkpoint_file {\n    __typename\n    ...CheckpointFile\n  }\n}\n\nfragment CheckpointFile on checkpoint_file {\n  __typename\n  id\n  file_id\n  checkpoint_id\n  file {\n    __typename\n    ...File\n  }\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment File on file {\n  __typename\n  id\n  uri\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  deleted_at\n  summary_path\n  shadow_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  deleted_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  reviews {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n  deleted_at\n}\n\nfragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nfragment TrailDetails on trail {\n  __typename\n  ...Trail\n  checkpoints(order_by: {index: asc}) {\n    __typename\n    ...Checkpoint\n  }\n  original_trail {\n    __typename\n    id\n    trail_link {\n      __typename\n      id\n      link_id\n      trail_link_id_fkey {\n        __typename\n        long_url\n      }\n    }\n  }\n  trail_path\n  organisation {\n    __typename\n    id\n    organisation_memberships(where: {member_type: {_eq: admin}}) {\n      __typename\n      member_type\n      id\n      profile {\n        __typename\n        name\n      }\n    }\n  }\n  ...NewEntryStepsFields\n}"}}
2023-06-08 09:42:09.993: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetActivities
2023-06-08 09:42:09.994: FINEST: gql.WebSocketLink.855932121: ... send done for df3bbf9d-72aa-46f9-8b66-ee3a6bde8ed7
2023-06-08 09:42:10.023: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2023-06-08 09:42:10.024: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:10.025: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:10.118: FINEST: gql.WebSocketLink.78322165: Message to decode: {"type":"data","id":"5c241c98-a286-43a9-9a1b-16c345c1ed80","payload":{"data":{"activity_aggregate" : {"__typename" : "activity_aggregate", "aggregate" : {"__typename" : "activity_aggregate_fields", "count" : 0}}}}}
2023-06-08 09:42:10.119: INFO: gql.WebSocketLink.78322165: Change status to connected
2023-06-08 09:42:10.119: FINER: gql.links.RetryUntilResponseLink: (GetCompletedActivitiesCount#391293877): Got data
2023-06-08 09:42:10.119: FINEST: gql.links.MultiMutationLink: (GetCompletedActivitiesCount/391293877): Got first response
2023-06-08 09:42:10.119: INFO: gql.links.MultiMutationLink: (GetCompletedActivitiesCount/391293877): is done
2023-06-08 09:42:10.120: FINEST: gql.links.MultiMutationLink: (GetCompletedActivitiesCount/391293877): Throttling query response...
2023-06-08 09:42:10.120: FINEST: gql.links.MultiMutationLink: (GetCompletedActivitiesCount/391293877): Releasing response for GetCompletedActivitiesCount#391293877 {userId: 6npJx61xNsYlNr0BVLoS5V6XeJf2}
2023-06-08 09:42:10.123: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetCompletedActivitiesCount
2023-06-08 09:42:10.126: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetCompletedActivitiesCount
2023-06-08 09:42:10.228: FINEST: gql.WebSocketLink.855932121: Message to decode: {"type":"data","id":"251510da-d6d9-42c2-8be5-7a7a5a47552d","payload":{"data":{"activity_aggregate" : {"__typename" : "activity_aggregate", "aggregate" : {"__typename" : "activity_aggregate_fields", "count" : 0}}}}}
2023-06-08 09:42:10.229: FINER: gql.links.RetryUntilResponseLink: (GetPendingActivityCount#1236387979): Got data
2023-06-08 09:42:10.229: FINEST: gql.links.MultiMutationLink: (GetPendingActivityCount/1236387979): Got first response
2023-06-08 09:42:10.229: INFO: gql.links.MultiMutationLink: (GetPendingActivityCount/1236387979): is done
2023-06-08 09:42:10.229: FINEST: gql.links.MultiMutationLink: (GetPendingActivityCount/1236387979): Throttling query response...
2023-06-08 09:42:10.230: FINEST: gql.links.MultiMutationLink: (GetPendingActivityCount/1236387979): Releasing response for GetPendingActivityCount#1236387979 {uid: 6npJx61xNsYlNr0BVLoS5V6XeJf2}
2023-06-08 09:42:10.234: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetPendingActivityCount
2023-06-08 09:42:10.258: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetPendingActivityCount
2023-06-08 09:42:10.258: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2023-06-08 09:42:10.258: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:10.258: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:10.412: FINEST: gql.WebSocketLink.78322165: Message to decode: {"type":"data","id":"396e3b68-199c-401d-8b00-0c36553c73b1","payload":{"data":{"vw_full_profile" : [{"__typename":"vw_full_profile","id":"6npJx61xNsYlNr0BVLoS5V6XeJf2","name":"Roden Janos","birth_year":1984,"gender":"male","language":"hu_HU","email":"jani9876@gmail.com","phone":"+36706087783","vat_id":"d5","city":"","address":"33","company_name":"e.v.","postal_code":1137,"guide_completed":false,"organisations_created_by_me":[{"__typename":"organisation","id":"037366df-0184-4e01-91d6-807d4c5000fe","name":"JaniOrg","url":null}]}]}}}
2023-06-08 09:42:10.412: FINER: gql.links.RetryUntilResponseLink: (GetCurrentUserProfile#1399997776): Got data
2023-06-08 09:42:10.413: FINEST: gql.links.MultiMutationLink: (GetCurrentUserProfile/1399997776): Got first response
2023-06-08 09:42:10.413: INFO: gql.links.MultiMutationLink: (GetCurrentUserProfile/1399997776): is done
2023-06-08 09:42:10.413: FINEST: gql.links.MultiMutationLink: (GetCurrentUserProfile/1399997776): Throttling query response...
2023-06-08 09:42:10.413: FINEST: gql.links.MultiMutationLink: (GetCurrentUserProfile/1399997776): Releasing response for GetCurrentUserProfile#1399997776 {id: 6npJx61xNsYlNr0BVLoS5V6XeJf2}
2023-06-08 09:42:10.417: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetCurrentUserProfile
2023-06-08 09:42:10.428: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetCurrentUserProfile
2023-06-08 09:42:10.428: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetCompletedActivitiesCount
2023-06-08 09:42:10.526: INFO: gql.links.LogRequestsLink: Request sent: GetAgreements
2023-06-08 09:42:10.556: FINEST: gql.WebSocketLink.855932121: Message to decode: {"type":"data","id":"ca2aa2a4-9714-4164-a4cd-35fe9dbddfc3","payload":{"data":{"review_aggregate" : {"__typename" : "review_aggregate", "aggregate" : {"__typename" : "review_aggregate_fields", "count" : 0}}}}}
2023-06-08 09:42:10.557: FINER: gql.links.RetryUntilResponseLink: (GetPendingReviewCount#1615186055): Got data
2023-06-08 09:42:10.557: FINEST: gql.links.MultiMutationLink: (GetPendingReviewCount/1615186055): Got first response
2023-06-08 09:42:10.557: INFO: gql.links.MultiMutationLink: (GetPendingReviewCount/1615186055): is done
2023-06-08 09:42:10.557: FINEST: gql.links.MultiMutationLink: (GetPendingReviewCount/1615186055): Throttling query response...
2023-06-08 09:42:10.558: FINEST: gql.links.MultiMutationLink: (GetPendingReviewCount/1615186055): Releasing response for GetPendingReviewCount#1615186055 {uid: 6npJx61xNsYlNr0BVLoS5V6XeJf2}
2023-06-08 09:42:10.562: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetPendingReviewCount
2023-06-08 09:42:10.588: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetPendingReviewCount
2023-06-08 09:42:10.588: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetPendingActivityCount
2023-06-08 09:42:10.588: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2023-06-08 09:42:10.589: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:10.589: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:10.641: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Incoming request: GetAgreements#978670484 {includeUserAgreements: true}
2023-06-08 09:42:10.643: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Listener arrived
2023-06-08 09:42:10.644: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Waiting for first response...
2023-06-08 09:42:10.646: INFO: gql.WebSocketLink.78322165: Incoming request GetAgreements#238512549 (0cf08c58-3f8a-4d10-b758-765150d9aa54) {"includeUserAgreements":true}
2023-06-08 09:42:10.646: FINE: gql.WebSocketLink.78322165: Listening on GetAgreements#238512549 (0cf08c58-3f8a-4d10-b758-765150d9aa54) {"includeUserAgreements":true}
2023-06-08 09:42:10.647: FINEST: gql.WebSocketLink.78322165: connect(103099): ws(96701601): Finished successfully
2023-06-08 09:42:10.647: FINE: gql.WebSocketLink.78322165: Send StartOperation for 0cf08c58-3f8a-4d10-b758-765150d9aa54
2023-06-08 09:42:10.647: FINEST: gql.WebSocketLink.78322165: Encoded message: {"type":"start","id":"0cf08c58-3f8a-4d10-b758-765150d9aa54","payload":{"operationName":"GetAgreements","variables":{"includeUserAgreements":true},"query":"query GetAgreements($includeUserAgreements: Boolean!) {\n  __typename\n  agreement(where: {next_version_id: {_is_null: true}}) {\n    __typename\n    id\n    name_en\n    name_hu\n    changes_en\n    changes_hu\n    content_en\n    content_hu\n    created_at\n    agreement_profiles @include(if: $includeUserAgreements) {\n      __typename\n      id\n      created_at\n    }\n    prev_version {\n      __typename\n      agreement_profiles @include(if: $includeUserAgreements) {\n        __typename\n        id\n        created_at\n      }\n    }\n  }\n}\n\nmutation InsertAcceptAgreements($objects: [agreement_profile_insert_input!]!) {\n  __typename\n  insert_agreement_profile(objects: $objects) {\n    __typename\n    returning {\n      __typename\n      id\n      created_at\n    }\n  }\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}"}}
2023-06-08 09:42:10.648: FINEST: gql.WebSocketLink.78322165: ... send done for 0cf08c58-3f8a-4d10-b758-765150d9aa54
2023-06-08 09:42:10.696: FINEST: gql.WebSocketLink.78322165: Message to decode: {"type":"data","id":"0cf08c58-3f8a-4d10-b758-765150d9aa54","payload":{"data":{"__typename":"query_root","agreement":[]}}}
2023-06-08 09:42:10.697: FINER: gql.links.RetryUntilResponseLink: (GetAgreements#978670484): Got data
2023-06-08 09:42:10.697: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Got first response
2023-06-08 09:42:10.697: INFO: gql.links.MultiMutationLink: (GetAgreements/978670484): is done
2023-06-08 09:42:10.697: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Throttling query response...
2023-06-08 09:42:10.698: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Releasing response for GetAgreements#978670484 {includeUserAgreements: true}
2023-06-08 09:42:10.700: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetAgreements
2023-06-08 09:42:10.701: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Cancel request
2023-06-08 09:42:10.702: FINE: gql.WebSocketLink.78322165: Cancel for GetAgreements#238512549 (0cf08c58-3f8a-4d10-b758-765150d9aa54) {"includeUserAgreements":true}
2023-06-08 09:42:10.703: FINEST: gql.WebSocketLink.78322165: Encoded message: {"type":"stop","id":"0cf08c58-3f8a-4d10-b758-765150d9aa54"}
2023-06-08 09:42:10.793: INFO: gql.links.LogRequestsLink: Request sent: GetAgreements
2023-06-08 09:42:10.796: FINEST: gql.WebSocketLink.78322165: Message to decode: {"type":"complete","id":"0cf08c58-3f8a-4d10-b758-765150d9aa54"}
2023-06-08 09:42:10.848: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Incoming request: GetAgreements#978670484 {includeUserAgreements: true}
2023-06-08 09:42:10.850: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Listener arrived
2023-06-08 09:42:10.851: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Waiting for first response...
2023-06-08 09:42:10.852: INFO: gql.WebSocketLink.78322165: Incoming request GetAgreements#1585268789 (d5790cca-29d8-4ff8-a28b-d9a50b40e87b) {"includeUserAgreements":true}
2023-06-08 09:42:10.852: FINE: gql.WebSocketLink.78322165: Listening on GetAgreements#1585268789 (d5790cca-29d8-4ff8-a28b-d9a50b40e87b) {"includeUserAgreements":true}
2023-06-08 09:42:10.853: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetAgreements
2023-06-08 09:42:10.853: FINEST: gql.WebSocketLink.78322165: connect(197788): ws(101962956): Finished successfully
2023-06-08 09:42:10.853: FINE: gql.WebSocketLink.78322165: Send StartOperation for d5790cca-29d8-4ff8-a28b-d9a50b40e87b
2023-06-08 09:42:10.854: FINEST: gql.WebSocketLink.78322165: Encoded message: {"type":"start","id":"d5790cca-29d8-4ff8-a28b-d9a50b40e87b","payload":{"operationName":"GetAgreements","variables":{"includeUserAgreements":true},"query":"query GetAgreements($includeUserAgreements: Boolean!) {\n  __typename\n  agreement(where: {next_version_id: {_is_null: true}}) {\n    __typename\n    id\n    name_en\n    name_hu\n    changes_en\n    changes_hu\n    content_en\n    content_hu\n    created_at\n    agreement_profiles @include(if: $includeUserAgreements) {\n      __typename\n      id\n      created_at\n    }\n    prev_version {\n      __typename\n      agreement_profiles @include(if: $includeUserAgreements) {\n        __typename\n        id\n        created_at\n      }\n    }\n  }\n}\n\nmutation InsertAcceptAgreements($objects: [agreement_profile_insert_input!]!) {\n  __typename\n  insert_agreement_profile(objects: $objects) {\n    __typename\n    returning {\n      __typename\n      id\n      created_at\n    }\n  }\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}"}}
2023-06-08 09:42:10.854: FINEST: gql.WebSocketLink.78322165: ... send done for d5790cca-29d8-4ff8-a28b-d9a50b40e87b
2023-06-08 09:42:10.908: FINEST: gql.WebSocketLink.78322165: Message to decode: {"type":"data","id":"d5790cca-29d8-4ff8-a28b-d9a50b40e87b","payload":{"data":{"__typename":"query_root","agreement":[]}}}
2023-06-08 09:42:10.909: FINER: gql.links.RetryUntilResponseLink: (GetAgreements#978670484): Got data
2023-06-08 09:42:10.909: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Got first response
2023-06-08 09:42:10.910: INFO: gql.links.MultiMutationLink: (GetAgreements/978670484): is done
2023-06-08 09:42:10.910: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Throttling query response...
2023-06-08 09:42:10.910: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Releasing response for GetAgreements#978670484 {includeUserAgreements: true}
2023-06-08 09:42:10.913: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetAgreements
2023-06-08 09:42:10.914: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Cancel request
2023-06-08 09:42:10.915: FINE: gql.WebSocketLink.78322165: Cancel for GetAgreements#1585268789 (d5790cca-29d8-4ff8-a28b-d9a50b40e87b) {"includeUserAgreements":true}
2023-06-08 09:42:10.915: FINEST: gql.WebSocketLink.78322165: Encoded message: {"type":"stop","id":"d5790cca-29d8-4ff8-a28b-d9a50b40e87b"}
2023-06-08 09:42:10.928: FINEST: gql.WebSocketLink.78322165: Message to decode: {"type":"complete","id":"d5790cca-29d8-4ff8-a28b-d9a50b40e87b"}
2023-06-08 09:42:10.960: FINEST: gql.WebSocketLink.855932121: Message to decode: {"type":"data","id":"df3bbf9d-72aa-46f9-8b66-ee3a6bde8ed7","payload":{"data":{"ob_get_activities" : []}}}
2023-06-08 09:42:10.961: FINER: gql.links.RetryUntilResponseLink: (GetActivities#1336074215): Got data
2023-06-08 09:42:10.961: FINEST: gql.links.MultiMutationLink: (GetActivities/1336074215): Got first response
2023-06-08 09:42:10.961: INFO: gql.links.MultiMutationLink: (GetActivities/1336074215): is done
2023-06-08 09:42:10.961: FINEST: gql.links.MultiMutationLink: (GetActivities/1496401076): Waiting for first response...
2023-06-08 09:42:10.964: INFO: gql.WebSocketLink.855932121: Incoming request GetActivities#520345464 (fc2a2633-f11d-4b00-bd10-35e123577de0) {"trunc":"DAY","tzoffset":2}
2023-06-08 09:42:10.966: FINE: gql.WebSocketLink.855932121: Listening on GetActivities#520345464 (fc2a2633-f11d-4b00-bd10-35e123577de0) {"trunc":"DAY","tzoffset":2}
2023-06-08 09:42:10.967: FINEST: gql.links.MultiMutationLink: (GetActivities/1336074215): Throttling query response...
2023-06-08 09:42:10.967: FINEST: gql.WebSocketLink.855932121: connect(104404): ws(539377205): Finished successfully
2023-06-08 09:42:10.967: FINE: gql.WebSocketLink.855932121: Send StartOperation for fc2a2633-f11d-4b00-bd10-35e123577de0
2023-06-08 09:42:10.972: FINEST: gql.links.MultiMutationLink: (GetActivities/1336074215): Releasing response for GetActivities#1336074215 {trunc: HOUR, tzoffset: 2}
2023-06-08 09:42:10.972: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"start","id":"fc2a2633-f11d-4b00-bd10-35e123577de0","payload":{"operationName":"GetActivities","variables":{"trunc":"DAY","tzoffset":2},"query":"query GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    pending_reviews_total\n    ...Trail\n    deleted_at\n  }\n}\n\nsubscription GetTrailByOrigId($originalId: uuid!) {\n  trail(where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription AdminQueryOrigTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {deleted_at: {_is_null: true}, original_id: {_eq: $originalId}}) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nsubscription AdminQueryVersionDetails($trailId: uuid!) {\n  trail_by_pk(id: $trailId) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n        original_id\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n    original_trail {\n      __typename\n      trail_link {\n        __typename\n        id\n      }\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nmutation UpsertCheckpointFileOne($file_id: uuid!, $checkpoint_id: uuid!) {\n  __typename\n  insert_checkpoint_file_one(object: {file_id: $file_id, checkpoint_id: $checkpoint_id}, on_conflict: {constraint: checkpoint_file_pkey, update_columns: file_id}) {\n    __typename\n    id\n  }\n}\n\nmutation SoftDeleteFile($id: uuid, $delete_after: timestamptz) {\n  __typename\n  update_file(where: {id: {_eq: $id}}, _set: {delete_after: $delete_after}) {\n    __typename\n    affected_rows\n  }\n}\n\nsubscription GetPendingReviewCountByTrail($uid: String!, $trailId: uuid!) {\n  review_aggregate(where: {rejected_at: {_is_null: true}, accepted_at: {_is_null: true}, activity: {trail_config: {trail: {_and: {id: {_eq: $trailId}, organisation: {organisation_memberships: {user_id: {_eq: $uid}}}}}}}}) {\n    __typename\n    aggregate {\n      __typename\n      count\n    }\n  }\n}\n\nmutation InsertTrailLink($trail_id: uuid!, $long_url: String) {\n  __typename\n  insert_trail_link_one(object: {trail_link_id_fkey: {data: {long_url: $long_url}}, trail_id: $trail_id}) {\n    __typename\n    trail_link_id_fkey {\n      __typename\n      short_url\n    }\n  }\n}\n\nmutation InsertActivityLink($activity_id: uuid!, $long_url: String) {\n  __typename\n  insert_activity_link_one(object: {perma_link: {data: {long_url: $long_url}}, activity_id: $activity_id}) {\n    __typename\n    perma_link {\n      __typename\n      short_url\n    }\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  checkpoint_file {\n    __typename\n    ...CheckpointFile\n  }\n}\n\nfragment CheckpointFile on checkpoint_file {\n  __typename\n  id\n  file_id\n  checkpoint_id\n  file {\n    __typename\n    ...File\n  }\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment File on file {\n  __typename\n  id\n  uri\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  deleted_at\n  summary_path\n  shadow_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  deleted_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  reviews {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n  deleted_at\n}\n\nfragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nfragment TrailDetails on trail {\n  __typename\n  ...Trail\n  checkpoints(order_by: {index: asc}) {\n    __typename\n    ...Checkpoint\n  }\n  original_trail {\n    __typename\n    id\n    trail_link {\n      __typename\n      id\n      link_id\n      trail_link_id_fkey {\n        __typename\n        long_url\n      }\n    }\n  }\n  trail_path\n  organisation {\n    __typename\n    id\n    organisation_memberships(where: {member_type: {_eq: admin}}) {\n      __typename\n      member_type\n      id\n      profile {\n        __typename\n        name\n      }\n    }\n  }\n  ...NewEntryStepsFields\n}"}}
2023-06-08 09:42:10.976: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetActivities
2023-06-08 09:42:10.976: FINEST: gql.WebSocketLink.855932121: ... send done for fc2a2633-f11d-4b00-bd10-35e123577de0
2023-06-08 09:42:11.014: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetPendingReviewCount
2023-06-08 09:42:11.015: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetPendingActivityCount
2023-06-08 09:42:11.015: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2023-06-08 09:42:11.015: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:11.015: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:11.975: FINEST: gql.WebSocketLink.855932121: Message to decode: {"type":"data","id":"fc2a2633-f11d-4b00-bd10-35e123577de0","payload":{"data":{"ob_get_activities" : []}}}
2023-06-08 09:42:11.976: FINER: gql.links.RetryUntilResponseLink: (GetActivities#1496401076): Got data
2023-06-08 09:42:11.976: FINEST: gql.links.MultiMutationLink: (GetActivities/1496401076): Got first response
2023-06-08 09:42:11.976: INFO: gql.links.MultiMutationLink: (GetActivities/1496401076): is done
2023-06-08 09:42:11.976: FINEST: gql.links.MultiMutationLink: (GetActivities/1496401076): Waiting for first response...
2023-06-08 09:42:11.980: INFO: gql.WebSocketLink.855932121: Incoming request GetActivities#573014380 (ca9e3315-fd7e-44b1-8281-2b5d090fcd1f) {"trunc":"DAY","tzoffset":2}
2023-06-08 09:42:11.981: FINE: gql.WebSocketLink.855932121: Listening on GetActivities#573014380 (ca9e3315-fd7e-44b1-8281-2b5d090fcd1f) {"trunc":"DAY","tzoffset":2}
2023-06-08 09:42:11.982: FINEST: gql.links.MultiMutationLink: (GetActivities/1496401076): Throttling query response...
2023-06-08 09:42:11.982: FINEST: gql.WebSocketLink.855932121: connect(139626): ws(838926680): Finished successfully
2023-06-08 09:42:11.982: FINE: gql.WebSocketLink.855932121: Send StartOperation for ca9e3315-fd7e-44b1-8281-2b5d090fcd1f
2023-06-08 09:42:11.985: FINEST: gql.links.MultiMutationLink: (GetActivities/1496401076): Releasing response for GetActivities#1496401076 {trunc: DAY, tzoffset: 2}
2023-06-08 09:42:11.986: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"start","id":"ca9e3315-fd7e-44b1-8281-2b5d090fcd1f","payload":{"operationName":"GetActivities","variables":{"trunc":"DAY","tzoffset":2},"query":"query GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    pending_reviews_total\n    ...Trail\n    deleted_at\n  }\n}\n\nsubscription GetTrailByOrigId($originalId: uuid!) {\n  trail(where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription AdminQueryOrigTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {deleted_at: {_is_null: true}, original_id: {_eq: $originalId}}) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nsubscription AdminQueryVersionDetails($trailId: uuid!) {\n  trail_by_pk(id: $trailId) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n        original_id\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n    original_trail {\n      __typename\n      trail_link {\n        __typename\n        id\n      }\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nmutation UpsertCheckpointFileOne($file_id: uuid!, $checkpoint_id: uuid!) {\n  __typename\n  insert_checkpoint_file_one(object: {file_id: $file_id, checkpoint_id: $checkpoint_id}, on_conflict: {constraint: checkpoint_file_pkey, update_columns: file_id}) {\n    __typename\n    id\n  }\n}\n\nmutation SoftDeleteFile($id: uuid, $delete_after: timestamptz) {\n  __typename\n  update_file(where: {id: {_eq: $id}}, _set: {delete_after: $delete_after}) {\n    __typename\n    affected_rows\n  }\n}\n\nsubscription GetPendingReviewCountByTrail($uid: String!, $trailId: uuid!) {\n  review_aggregate(where: {rejected_at: {_is_null: true}, accepted_at: {_is_null: true}, activity: {trail_config: {trail: {_and: {id: {_eq: $trailId}, organisation: {organisation_memberships: {user_id: {_eq: $uid}}}}}}}}) {\n    __typename\n    aggregate {\n      __typename\n      count\n    }\n  }\n}\n\nmutation InsertTrailLink($trail_id: uuid!, $long_url: String) {\n  __typename\n  insert_trail_link_one(object: {trail_link_id_fkey: {data: {long_url: $long_url}}, trail_id: $trail_id}) {\n    __typename\n    trail_link_id_fkey {\n      __typename\n      short_url\n    }\n  }\n}\n\nmutation InsertActivityLink($activity_id: uuid!, $long_url: String) {\n  __typename\n  insert_activity_link_one(object: {perma_link: {data: {long_url: $long_url}}, activity_id: $activity_id}) {\n    __typename\n    perma_link {\n      __typename\n      short_url\n    }\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  checkpoint_file {\n    __typename\n    ...CheckpointFile\n  }\n}\n\nfragment CheckpointFile on checkpoint_file {\n  __typename\n  id\n  file_id\n  checkpoint_id\n  file {\n    __typename\n    ...File\n  }\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment File on file {\n  __typename\n  id\n  uri\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  deleted_at\n  summary_path\n  shadow_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  deleted_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  reviews {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n  deleted_at\n}\n\nfragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nfragment TrailDetails on trail {\n  __typename\n  ...Trail\n  checkpoints(order_by: {index: asc}) {\n    __typename\n    ...Checkpoint\n  }\n  original_trail {\n    __typename\n    id\n    trail_link {\n      __typename\n      id\n      link_id\n      trail_link_id_fkey {\n        __typename\n        long_url\n      }\n    }\n  }\n  trail_path\n  organisation {\n    __typename\n    id\n    organisation_memberships(where: {member_type: {_eq: admin}}) {\n      __typename\n      member_type\n      id\n      profile {\n        __typename\n        name\n      }\n    }\n  }\n  ...NewEntryStepsFields\n}"}}
2023-06-08 09:42:11.989: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetActivities
2023-06-08 09:42:11.990: FINEST: gql.WebSocketLink.855932121: ... send done for ca9e3315-fd7e-44b1-8281-2b5d090fcd1f
2023-06-08 09:42:12.015: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetPendingReviewCount
2023-06-08 09:42:12.015: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetPendingActivityCount
2023-06-08 09:42:12.015: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2023-06-08 09:42:12.015: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:12.016: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:12.016: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:12.016: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:13.010: FINEST: gql.WebSocketLink.855932121: Message to decode: {"type":"data","id":"ca9e3315-fd7e-44b1-8281-2b5d090fcd1f","payload":{"data":{"ob_get_activities" : []}}}
2023-06-08 09:42:13.011: FINER: gql.links.RetryUntilResponseLink: (GetActivities#1496401076): Got data
2023-06-08 09:42:13.011: FINEST: gql.links.MultiMutationLink: (GetActivities/1496401076): Got first response
2023-06-08 09:42:13.011: INFO: gql.links.MultiMutationLink: (GetActivities/1496401076): is done
2023-06-08 09:42:13.011: FINEST: gql.links.MultiMutationLink: (GetActivities/399770136): Waiting for first response...
2023-06-08 09:42:13.015: INFO: gql.WebSocketLink.855932121: Incoming request GetActivities#1779837990 (5b7aa45b-c453-4a9d-9072-3d81ba87c828) {"trunc":"MONTH","tzoffset":2}
2023-06-08 09:42:13.016: FINE: gql.WebSocketLink.855932121: Listening on GetActivities#1779837990 (5b7aa45b-c453-4a9d-9072-3d81ba87c828) {"trunc":"MONTH","tzoffset":2}
2023-06-08 09:42:13.017: FINEST: gql.links.MultiMutationLink: (GetActivities/1496401076): Throttling query response...
2023-06-08 09:42:13.017: FINEST: gql.WebSocketLink.855932121: connect(127051): ws(715530210): Finished successfully
2023-06-08 09:42:13.017: FINE: gql.WebSocketLink.855932121: Send StartOperation for 5b7aa45b-c453-4a9d-9072-3d81ba87c828
2023-06-08 09:42:13.020: FINEST: gql.links.MultiMutationLink: (GetActivities/1496401076): Releasing response for GetActivities#1496401076 {trunc: DAY, tzoffset: 2}
2023-06-08 09:42:13.020: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"start","id":"5b7aa45b-c453-4a9d-9072-3d81ba87c828","payload":{"operationName":"GetActivities","variables":{"trunc":"MONTH","tzoffset":2},"query":"query GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    pending_reviews_total\n    ...Trail\n    deleted_at\n  }\n}\n\nsubscription GetTrailByOrigId($originalId: uuid!) {\n  trail(where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription AdminQueryOrigTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {deleted_at: {_is_null: true}, original_id: {_eq: $originalId}}) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nsubscription AdminQueryVersionDetails($trailId: uuid!) {\n  trail_by_pk(id: $trailId) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n        original_id\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n    original_trail {\n      __typename\n      trail_link {\n        __typename\n        id\n      }\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nmutation UpsertCheckpointFileOne($file_id: uuid!, $checkpoint_id: uuid!) {\n  __typename\n  insert_checkpoint_file_one(object: {file_id: $file_id, checkpoint_id: $checkpoint_id}, on_conflict: {constraint: checkpoint_file_pkey, update_columns: file_id}) {\n    __typename\n    id\n  }\n}\n\nmutation SoftDeleteFile($id: uuid, $delete_after: timestamptz) {\n  __typename\n  update_file(where: {id: {_eq: $id}}, _set: {delete_after: $delete_after}) {\n    __typename\n    affected_rows\n  }\n}\n\nsubscription GetPendingReviewCountByTrail($uid: String!, $trailId: uuid!) {\n  review_aggregate(where: {rejected_at: {_is_null: true}, accepted_at: {_is_null: true}, activity: {trail_config: {trail: {_and: {id: {_eq: $trailId}, organisation: {organisation_memberships: {user_id: {_eq: $uid}}}}}}}}) {\n    __typename\n    aggregate {\n      __typename\n      count\n    }\n  }\n}\n\nmutation InsertTrailLink($trail_id: uuid!, $long_url: String) {\n  __typename\n  insert_trail_link_one(object: {trail_link_id_fkey: {data: {long_url: $long_url}}, trail_id: $trail_id}) {\n    __typename\n    trail_link_id_fkey {\n      __typename\n      short_url\n    }\n  }\n}\n\nmutation InsertActivityLink($activity_id: uuid!, $long_url: String) {\n  __typename\n  insert_activity_link_one(object: {perma_link: {data: {long_url: $long_url}}, activity_id: $activity_id}) {\n    __typename\n    perma_link {\n      __typename\n      short_url\n    }\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  checkpoint_file {\n    __typename\n    ...CheckpointFile\n  }\n}\n\nfragment CheckpointFile on checkpoint_file {\n  __typename\n  id\n  file_id\n  checkpoint_id\n  file {\n    __typename\n    ...File\n  }\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment File on file {\n  __typename\n  id\n  uri\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  deleted_at\n  summary_path\n  shadow_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  deleted_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  reviews {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n  deleted_at\n}\n\nfragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nfragment TrailDetails on trail {\n  __typename\n  ...Trail\n  checkpoints(order_by: {index: asc}) {\n    __typename\n    ...Checkpoint\n  }\n  original_trail {\n    __typename\n    id\n    trail_link {\n      __typename\n      id\n      link_id\n      trail_link_id_fkey {\n        __typename\n        long_url\n      }\n    }\n  }\n  trail_path\n  organisation {\n    __typename\n    id\n    organisation_memberships(where: {member_type: {_eq: admin}}) {\n      __typename\n      member_type\n      id\n      profile {\n        __typename\n        name\n      }\n    }\n  }\n  ...NewEntryStepsFields\n}"}}
2023-06-08 09:42:13.024: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetActivities
2023-06-08 09:42:13.025: FINEST: gql.WebSocketLink.855932121: ... send done for 5b7aa45b-c453-4a9d-9072-3d81ba87c828
2023-06-08 09:42:13.049: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetPendingReviewCount
2023-06-08 09:42:13.049: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetPendingActivityCount
2023-06-08 09:42:13.049: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2023-06-08 09:42:13.050: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:13.050: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:13.050: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:13.050: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:14.024: FINEST: gql.WebSocketLink.855932121: Message to decode: {"type":"data","id":"5b7aa45b-c453-4a9d-9072-3d81ba87c828","payload":{"data":{"ob_get_activities" : []}}}
2023-06-08 09:42:14.025: FINER: gql.links.RetryUntilResponseLink: (GetActivities#399770136): Got data
2023-06-08 09:42:14.025: FINEST: gql.links.MultiMutationLink: (GetActivities/399770136): Got first response
2023-06-08 09:42:14.025: INFO: gql.links.MultiMutationLink: (GetActivities/399770136): is done
2023-06-08 09:42:14.025: FINEST: gql.links.MultiMutationLink: (GetActivities/399770136): Throttling query response...
2023-06-08 09:42:14.027: FINEST: gql.links.MultiMutationLink: (GetActivities/399770136): Releasing response for GetActivities#399770136 {trunc: MONTH, tzoffset: 2}
2023-06-08 09:42:14.031: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetActivities
2023-06-08 09:42:14.056: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetPendingReviewCount
2023-06-08 09:42:14.056: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetPendingActivityCount
2023-06-08 09:42:14.057: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2023-06-08 09:42:14.057: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:14.057: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:14.057: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:14.057: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:14.058: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2023-06-08 09:42:14.612: INFO: gql.WebSocketLink.78322165: Change status to idle
2023-06-08 09:42:14.814: INFO: gql.WebSocketLink.855932121: Change status to idle
2023-06-08 09:42:15.044: FINEST: gql.links.MultiMutationLink: (GetTrails/1476613034): Cancel request
2023-06-08 09:42:15.045: FINEST: gql.links.MultiMutationLink: (GetActivities/1336074215): Cancel request
2023-06-08 09:42:15.046: FINEST: gql.links.MultiMutationLink: (GetActivities/1496401076): Cancel request
2023-06-08 09:42:15.047: FINEST: gql.links.MultiMutationLink: (GetActivities/1496401076): Cancel request
2023-06-08 09:42:15.048: FINEST: gql.links.MultiMutationLink: (GetActivities/399770136): Cancel request
2023-06-08 09:42:15.050: FINEST: gql.links.MultiMutationLink: (GetActivities/1336074215): Cancel request
2023-06-08 09:42:15.058: FINE: gql.WebSocketLink.855932121: Cancel for GetTrails#426697583 (af96e02a-ba76-4f17-a1d4-9a53c936b18b) {"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":true}
2023-06-08 09:42:15.060: FINE: gql.WebSocketLink.855932121: Cancel for GetActivities#2030351194 (df3bbf9d-72aa-46f9-8b66-ee3a6bde8ed7) {"trunc":"HOUR","tzoffset":2}
2023-06-08 09:42:15.062: FINE: gql.WebSocketLink.855932121: Cancel for GetActivities#520345464 (fc2a2633-f11d-4b00-bd10-35e123577de0) {"trunc":"DAY","tzoffset":2}
2023-06-08 09:42:15.063: FINE: gql.WebSocketLink.855932121: Cancel for GetActivities#573014380 (ca9e3315-fd7e-44b1-8281-2b5d090fcd1f) {"trunc":"DAY","tzoffset":2}
2023-06-08 09:42:15.065: FINE: gql.WebSocketLink.855932121: Cancel for GetActivities#1779837990 (5b7aa45b-c453-4a9d-9072-3d81ba87c828) {"trunc":"MONTH","tzoffset":2}
2023-06-08 09:42:15.066: FINE: gql.WebSocketLink.855932121: Cancel for GetActivities#52045382 (5e11619e-f0cd-433d-919d-e14b9cb2a1c6) {"trunc":"HOUR","tzoffset":2}
2023-06-08 09:42:15.066: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"stop","id":"af96e02a-ba76-4f17-a1d4-9a53c936b18b"}
2023-06-08 09:42:15.067: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"stop","id":"df3bbf9d-72aa-46f9-8b66-ee3a6bde8ed7"}
2023-06-08 09:42:15.067: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"stop","id":"fc2a2633-f11d-4b00-bd10-35e123577de0"}
2023-06-08 09:42:15.067: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"stop","id":"ca9e3315-fd7e-44b1-8281-2b5d090fcd1f"}
2023-06-08 09:42:15.067: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"stop","id":"5b7aa45b-c453-4a9d-9072-3d81ba87c828"}
2023-06-08 09:42:15.067: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"stop","id":"5e11619e-f0cd-433d-919d-e14b9cb2a1c6"}
2023-06-08 09:42:15.070: INFO: gql.links.LogRequestsLink: Request sent: GetTrails
2023-06-08 09:42:15.088: FINEST: gql.links.MultiMutationLink: (GetTrails/1476613034): Incoming request: GetTrails#1476613034 {orderBy: asc, userId: 6npJx61xNsYlNr0BVLoS5V6XeJf2, onlyNotDeleted: true}
2023-06-08 09:42:15.094: FINEST: gql.links.MultiMutationLink: (GetTrails/1476613034): Listener arrived
2023-06-08 09:42:15.095: FINEST: gql.links.MultiMutationLink: (GetTrails/1476613034): Waiting for first response...
2023-06-08 09:42:15.098: INFO: gql.WebSocketLink.855932121: Incoming request GetTrails#1642104624 (6c1c7fae-12f1-4eb7-acdf-2460c35d60b0) {"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":true}
2023-06-08 09:42:15.099: FINE: gql.WebSocketLink.855932121: Listening on GetTrails#1642104624 (6c1c7fae-12f1-4eb7-acdf-2460c35d60b0) {"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":true}
2023-06-08 09:42:15.099: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2023-06-08 09:42:15.103: INFO: gql.WebSocketLink.855932121: Change status to connected
2023-06-08 09:42:15.103: FINEST: gql.WebSocketLink.855932121: connect(170794): ws(749640667): Finished successfully
2023-06-08 09:42:15.103: FINE: gql.WebSocketLink.855932121: Send StartOperation for 6c1c7fae-12f1-4eb7-acdf-2460c35d60b0
2023-06-08 09:42:15.106: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"start","id":"6c1c7fae-12f1-4eb7-acdf-2460c35d60b0","payload":{"operationName":"GetTrails","variables":{"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":true},"query":"query GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    pending_reviews_total\n    ...Trail\n    deleted_at\n  }\n}\n\nsubscription GetTrailByOrigId($originalId: uuid!) {\n  trail(where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription AdminQueryOrigTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {deleted_at: {_is_null: true}, original_id: {_eq: $originalId}}) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nsubscription AdminQueryVersionDetails($trailId: uuid!) {\n  trail_by_pk(id: $trailId) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n        original_id\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n    original_trail {\n      __typename\n      trail_link {\n        __typename\n        id\n      }\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nmutation UpsertCheckpointFileOne($file_id: uuid!, $checkpoint_id: uuid!) {\n  __typename\n  insert_checkpoint_file_one(object: {file_id: $file_id, checkpoint_id: $checkpoint_id}, on_conflict: {constraint: checkpoint_file_pkey, update_columns: file_id}) {\n    __typename\n    id\n  }\n}\n\nmutation SoftDeleteFile($id: uuid, $delete_after: timestamptz) {\n  __typename\n  update_file(where: {id: {_eq: $id}}, _set: {delete_after: $delete_after}) {\n    __typename\n    affected_rows\n  }\n}\n\nsubscription GetPendingReviewCountByTrail($uid: String!, $trailId: uuid!) {\n  review_aggregate(where: {rejected_at: {_is_null: true}, accepted_at: {_is_null: true}, activity: {trail_config: {trail: {_and: {id: {_eq: $trailId}, organisation: {organisation_memberships: {user_id: {_eq: $uid}}}}}}}}) {\n    __typename\n    aggregate {\n      __typename\n      count\n    }\n  }\n}\n\nmutation InsertTrailLink($trail_id: uuid!, $long_url: String) {\n  __typename\n  insert_trail_link_one(object: {trail_link_id_fkey: {data: {long_url: $long_url}}, trail_id: $trail_id}) {\n    __typename\n    trail_link_id_fkey {\n      __typename\n      short_url\n    }\n  }\n}\n\nmutation InsertActivityLink($activity_id: uuid!, $long_url: String) {\n  __typename\n  insert_activity_link_one(object: {perma_link: {data: {long_url: $long_url}}, activity_id: $activity_id}) {\n    __typename\n    perma_link {\n      __typename\n      short_url\n    }\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  checkpoint_file {\n    __typename\n    ...CheckpointFile\n  }\n}\n\nfragment CheckpointFile on checkpoint_file {\n  __typename\n  id\n  file_id\n  checkpoint_id\n  file {\n    __typename\n    ...File\n  }\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment File on file {\n  __typename\n  id\n  uri\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  deleted_at\n  summary_path\n  shadow_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  deleted_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  reviews {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n  deleted_at\n}\n\nfragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nfragment TrailDetails on trail {\n  __typename\n  ...Trail\n  checkpoints(order_by: {index: asc}) {\n    __typename\n    ...Checkpoint\n  }\n  original_trail {\n    __typename\n    id\n    trail_link {\n      __typename\n      id\n      link_id\n      trail_link_id_fkey {\n        __typename\n        long_url\n      }\n    }\n  }\n  trail_path\n  organisation {\n    __typename\n    id\n    organisation_memberships(where: {member_type: {_eq: admin}}) {\n      __typename\n      member_type\n      id\n      profile {\n        __typename\n        name\n      }\n    }\n  }\n  ...NewEntryStepsFields\n}"}}
2023-06-08 09:42:15.106: FINEST: gql.WebSocketLink.855932121: ... send done for 6c1c7fae-12f1-4eb7-acdf-2460c35d60b0
2023-06-08 09:42:15.396: FINEST: gql.WebSocketLink.855932121: Message to decode: {"type":"data","id":"6c1c7fae-12f1-4eb7-acdf-2460c35d60b0","payload":{"data":{"trail" : []}}}
2023-06-08 09:42:15.396: FINER: gql.links.RetryUntilResponseLink: (GetTrails#1476613034): Got data
2023-06-08 09:42:15.396: FINEST: gql.links.MultiMutationLink: (GetTrails/1476613034): Got first response
2023-06-08 09:42:15.397: INFO: gql.links.MultiMutationLink: (GetTrails/1476613034): is done
2023-06-08 09:42:15.397: FINEST: gql.links.MultiMutationLink: (GetTrails/1476613034): Throttling query response...
2023-06-08 09:42:15.398: FINEST: gql.links.MultiMutationLink: (GetTrails/1476613034): Releasing response for GetTrails#1476613034 {orderBy: asc, userId: 6npJx61xNsYlNr0BVLoS5V6XeJf2, onlyNotDeleted: true}
2023-06-08 09:42:15.402: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetTrails
2023-06-08 09:42:15.410: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetPendingReviewCount
2023-06-08 09:42:15.410: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetPendingActivityCount
2023-06-08 09:42:15.410: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2023-06-08 09:42:19.089: FINE: NewTrailPageFormController: Create empty trail state
2023-06-08 09:42:19.096: INFO: gql.links.LogRequestsLink: Request sent: GetManagedOrgs
2023-06-08 09:42:19.179: FINEST: gql.links.MultiMutationLink: (GetManagedOrgs/2069329536): Incoming request: GetManagedOrgs#2069329536 {}
2023-06-08 09:42:19.183: FINEST: gql.links.MultiMutationLink: (GetManagedOrgs/2069329536): Listener arrived
2023-06-08 09:42:19.184: FINEST: gql.links.MultiMutationLink: (GetManagedOrgs/2069329536): Waiting for first response...
2023-06-08 09:42:19.187: INFO: gql.WebSocketLink.855932121: Incoming request GetManagedOrgs#1431793597 (0e92dcd5-6b9f-4626-acfd-7452e09e1f94) {}
2023-06-08 09:42:19.189: FINE: gql.WebSocketLink.855932121: Listening on GetManagedOrgs#1431793597 (0e92dcd5-6b9f-4626-acfd-7452e09e1f94) {}
2023-06-08 09:42:19.189: FINEST: gql.WebSocketLink.855932121: connect(140183): ws(559226043): Finished successfully
2023-06-08 09:42:19.189: FINE: gql.WebSocketLink.855932121: Send StartOperation for 0e92dcd5-6b9f-4626-acfd-7452e09e1f94
2023-06-08 09:42:19.191: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"start","id":"0e92dcd5-6b9f-4626-acfd-7452e09e1f94","payload":{"operationName":"GetManagedOrgs","variables":{},"query":"query GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    pending_reviews_total\n    ...Trail\n    deleted_at\n  }\n}\n\nsubscription GetTrailByOrigId($originalId: uuid!) {\n  trail(where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription AdminQueryOrigTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {deleted_at: {_is_null: true}, original_id: {_eq: $originalId}}) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nsubscription AdminQueryVersionDetails($trailId: uuid!) {\n  trail_by_pk(id: $trailId) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n        original_id\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n    original_trail {\n      __typename\n      trail_link {\n        __typename\n        id\n      }\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nmutation UpsertCheckpointFileOne($file_id: uuid!, $checkpoint_id: uuid!) {\n  __typename\n  insert_checkpoint_file_one(object: {file_id: $file_id, checkpoint_id: $checkpoint_id}, on_conflict: {constraint: checkpoint_file_pkey, update_columns: file_id}) {\n    __typename\n    id\n  }\n}\n\nmutation SoftDeleteFile($id: uuid, $delete_after: timestamptz) {\n  __typename\n  update_file(where: {id: {_eq: $id}}, _set: {delete_after: $delete_after}) {\n    __typename\n    affected_rows\n  }\n}\n\nsubscription GetPendingReviewCountByTrail($uid: String!, $trailId: uuid!) {\n  review_aggregate(where: {rejected_at: {_is_null: true}, accepted_at: {_is_null: true}, activity: {trail_config: {trail: {_and: {id: {_eq: $trailId}, organisation: {organisation_memberships: {user_id: {_eq: $uid}}}}}}}}) {\n    __typename\n    aggregate {\n      __typename\n      count\n    }\n  }\n}\n\nmutation InsertTrailLink($trail_id: uuid!, $long_url: String) {\n  __typename\n  insert_trail_link_one(object: {trail_link_id_fkey: {data: {long_url: $long_url}}, trail_id: $trail_id}) {\n    __typename\n    trail_link_id_fkey {\n      __typename\n      short_url\n    }\n  }\n}\n\nmutation InsertActivityLink($activity_id: uuid!, $long_url: String) {\n  __typename\n  insert_activity_link_one(object: {perma_link: {data: {long_url: $long_url}}, activity_id: $activity_id}) {\n    __typename\n    perma_link {\n      __typename\n      short_url\n    }\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  checkpoint_file {\n    __typename\n    ...CheckpointFile\n  }\n}\n\nfragment CheckpointFile on checkpoint_file {\n  __typename\n  id\n  file_id\n  checkpoint_id\n  file {\n    __typename\n    ...File\n  }\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment File on file {\n  __typename\n  id\n  uri\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  deleted_at\n  summary_path\n  shadow_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  deleted_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  reviews {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n  deleted_at\n}\n\nfragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nfragment TrailDetails on trail {\n  __typename\n  ...Trail\n  checkpoints(order_by: {index: asc}) {\n    __typename\n    ...Checkpoint\n  }\n  original_trail {\n    __typename\n    id\n    trail_link {\n      __typename\n      id\n      link_id\n      trail_link_id_fkey {\n        __typename\n        long_url\n      }\n    }\n  }\n  trail_path\n  organisation {\n    __typename\n    id\n    organisation_memberships(where: {member_type: {_eq: admin}}) {\n      __typename\n      member_type\n      id\n      profile {\n        __typename\n        name\n      }\n    }\n  }\n  ...NewEntryStepsFields\n}"}}
2023-06-08 09:42:19.191: FINEST: gql.WebSocketLink.855932121: ... send done for 0e92dcd5-6b9f-4626-acfd-7452e09e1f94
2023-06-08 09:42:19.267: FINEST: gql.WebSocketLink.855932121: Message to decode: {"type":"data","id":"0e92dcd5-6b9f-4626-acfd-7452e09e1f94","payload":{"data":{"__typename":"query_root","organisation":[{"__typename":"organisation","id":"037366df-0184-4e01-91d6-807d4c5000fe","name":"JaniOrg","url":null}]}}}
2023-06-08 09:42:19.268: FINER: gql.links.RetryUntilResponseLink: (GetManagedOrgs#2069329536): Got data
2023-06-08 09:42:19.268: FINEST: gql.links.MultiMutationLink: (GetManagedOrgs/2069329536): Got first response
2023-06-08 09:42:19.268: INFO: gql.links.MultiMutationLink: (GetManagedOrgs/2069329536): is done
2023-06-08 09:42:19.268: FINEST: gql.links.MultiMutationLink: (GetManagedOrgs/2069329536): Throttling query response...
2023-06-08 09:42:19.270: FINEST: gql.links.MultiMutationLink: (GetManagedOrgs/2069329536): Releasing response for GetManagedOrgs#2069329536 {}
2023-06-08 09:42:19.274: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetManagedOrgs
2023-06-08 09:42:19.276: FINEST: gql.links.MultiMutationLink: (GetManagedOrgs/2069329536): Cancel request
2023-06-08 09:42:19.280: FINE: gql.WebSocketLink.855932121: Cancel for GetManagedOrgs#1431793597 (0e92dcd5-6b9f-4626-acfd-7452e09e1f94) {}
2023-06-08 09:42:19.280: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"stop","id":"0e92dcd5-6b9f-4626-acfd-7452e09e1f94"}
2023-06-08 09:42:19.280: INFO: gql.links.LogRequestsLink: Request sent: GetRewardTypes
2023-06-08 09:42:19.291: FINEST: gql.WebSocketLink.855932121: Message to decode: {"type":"complete","id":"0e92dcd5-6b9f-4626-acfd-7452e09e1f94"}
2023-06-08 09:42:19.299: FINEST: gql.links.MultiMutationLink: (GetRewardTypes/969422897): Incoming request: GetRewardTypes#969422897 {}
2023-06-08 09:42:19.301: FINEST: gql.links.MultiMutationLink: (GetRewardTypes/969422897): Listener arrived
2023-06-08 09:42:19.302: FINEST: gql.links.MultiMutationLink: (GetRewardTypes/969422897): Waiting for first response...
2023-06-08 09:42:19.302: INFO: gql.WebSocketLink.855932121: Incoming request GetRewardTypes#1706870579 (a2d6cf09-e744-49d5-839f-493afb5f0958) {}
2023-06-08 09:42:19.302: FINE: gql.WebSocketLink.855932121: Listening on GetRewardTypes#1706870579 (a2d6cf09-e744-49d5-839f-493afb5f0958) {}
2023-06-08 09:42:19.302: FINEST: gql.WebSocketLink.855932121: connect(195610): ws(342609918): Finished successfully
2023-06-08 09:42:19.303: FINE: gql.WebSocketLink.855932121: Send StartOperation for a2d6cf09-e744-49d5-839f-493afb5f0958
2023-06-08 09:42:19.303: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"start","id":"a2d6cf09-e744-49d5-839f-493afb5f0958","payload":{"operationName":"GetRewardTypes","variables":{},"query":"query GetRewardTypes {\n  __typename\n  reward_type(order_by: {weight: asc}) {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}"}}
2023-06-08 09:42:19.303: FINEST: gql.WebSocketLink.855932121: ... send done for a2d6cf09-e744-49d5-839f-493afb5f0958
2023-06-08 09:42:19.367: FINEST: gql.WebSocketLink.855932121: Message to decode: {"type":"data","id":"a2d6cf09-e744-49d5-839f-493afb5f0958","payload":{"data":{"__typename":"query_root","reward_type":[{"__typename":"reward_type","id":"dd2701a9-52da-42a5-b0d2-78c00b872452","name_en":"Fame","name_hu":"Hrnv","material_icon_name":"flowerOutline","weight":10}, {"__typename":"reward_type","id":"c3b152fa-f852-4c43-a47d-c3523c6c45e8","name_en":"Badge","name_hu":"Kitz","material_icon_name":"album","weight":20}, {"__typename":"reward_type","id":"1dce5846-135b-4965-ab7e-ccfbe6523450","name_en":"Medal","name_hu":"rem","material_icon_name":"medal","weight":30}]}}}
2023-06-08 09:42:19.367: FINER: gql.links.RetryUntilResponseLink: (GetRewardTypes#969422897): Got data
2023-06-08 09:42:19.368: FINEST: gql.links.MultiMutationLink: (GetRewardTypes/969422897): Got first response
2023-06-08 09:42:19.368: INFO: gql.links.MultiMutationLink: (GetRewardTypes/969422897): is done
2023-06-08 09:42:19.368: FINEST: gql.links.MultiMutationLink: (GetRewardTypes/969422897): Throttling query response...
2023-06-08 09:42:19.368: FINEST: gql.links.MultiMutationLink: (GetRewardTypes/969422897): Releasing response for GetRewardTypes#969422897 {}
2023-06-08 09:42:19.372: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetRewardTypes
2023-06-08 09:42:19.376: FINEST: gql.links.MultiMutationLink: (GetRewardTypes/969422897): Cancel request
2023-06-08 09:42:19.378: FINE: gql.WebSocketLink.855932121: Cancel for GetRewardTypes#1706870579 (a2d6cf09-e744-49d5-839f-493afb5f0958) {}
2023-06-08 09:42:19.378: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"stop","id":"a2d6cf09-e744-49d5-839f-493afb5f0958"}
2023-06-08 09:42:19.379: INFO: gql.links.LogRequestsLink: Request sent: GetActivityTypes
2023-06-08 09:42:19.388: FINEST: gql.WebSocketLink.855932121: Message to decode: {"type":"complete","id":"a2d6cf09-e744-49d5-839f-493afb5f0958"}
2023-06-08 09:42:19.389: FINEST: gql.links.MultiMutationLink: (GetActivityTypes/830110425): Incoming request: GetActivityTypes#830110425 {}
2023-06-08 09:42:19.392: FINEST: gql.links.MultiMutationLink: (GetActivityTypes/830110425): Listener arrived
2023-06-08 09:42:19.392: FINEST: gql.links.MultiMutationLink: (GetActivityTypes/830110425): Waiting for first response...
2023-06-08 09:42:19.392: INFO: gql.WebSocketLink.855932121: Incoming request GetActivityTypes#44902497 (40fe81b6-754d-4839-9338-958f4c1c7e2a) {}
2023-06-08 09:42:19.393: FINE: gql.WebSocketLink.855932121: Listening on GetActivityTypes#44902497 (40fe81b6-754d-4839-9338-958f4c1c7e2a) {}
2023-06-08 09:42:19.393: FINEST: gql.WebSocketLink.855932121: connect(197822): ws(99408483): Finished successfully
2023-06-08 09:42:19.393: FINE: gql.WebSocketLink.855932121: Send StartOperation for 40fe81b6-754d-4839-9338-958f4c1c7e2a
2023-06-08 09:42:19.394: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"start","id":"40fe81b6-754d-4839-9338-958f4c1c7e2a","payload":{"operationName":"GetActivityTypes","variables":{},"query":"query GetActivityTypes {\n  __typename\n  activity_type(order_by: {weight: asc}) {\n    __typename\n    ...ActivityType\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}"}}
2023-06-08 09:42:19.394: FINEST: gql.WebSocketLink.855932121: ... send done for 40fe81b6-754d-4839-9338-958f4c1c7e2a
2023-06-08 09:42:19.443: FINEST: gql.WebSocketLink.855932121: Message to decode: {"type":"data","id":"40fe81b6-754d-4839-9338-958f4c1c7e2a","payload":{"data":{"__typename":"query_root","activity_type":[{"__typename":"activity_type","id":"f602d0e2-56d7-439f-a2a3-61ff0fb6e8a2","name_en":"Hike","name_hu":"Trzva","material_icon_name":"walk","weight":10}, {"__typename":"activity_type","id":"ab3b9b84-62d4-41cf-8bc9-4ae458b09cc1","name_en":"Bike","name_hu":"Biciklivel","material_icon_name":"bike","weight":20}, {"__typename":"activity_type","id":"e310caea-216e-4fa8-af02-5855ed31a47d","name_en":"Run","name_hu":"Futva","material_icon_name":"run","weight":30}]}}}
2023-06-08 09:42:19.444: FINER: gql.links.RetryUntilResponseLink: (GetActivityTypes#830110425): Got data
2023-06-08 09:42:19.444: FINEST: gql.links.MultiMutationLink: (GetActivityTypes/830110425): Got first response
2023-06-08 09:42:19.444: INFO: gql.links.MultiMutationLink: (GetActivityTypes/830110425): is done
2023-06-08 09:42:19.444: FINEST: gql.links.MultiMutationLink: (GetActivityTypes/830110425): Throttling query response...
2023-06-08 09:42:19.445: FINEST: gql.links.MultiMutationLink: (GetActivityTypes/830110425): Releasing response for GetActivityTypes#830110425 {}
2023-06-08 09:42:19.448: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetActivityTypes
2023-06-08 09:42:19.451: FINEST: gql.links.MultiMutationLink: (GetActivityTypes/830110425): Cancel request
2023-06-08 09:42:19.452: FINE: gql.WebSocketLink.855932121: Cancel for GetActivityTypes#44902497 (40fe81b6-754d-4839-9338-958f4c1c7e2a) {}
2023-06-08 09:42:19.452: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"stop","id":"40fe81b6-754d-4839-9338-958f4c1c7e2a"}
2023-06-08 09:42:19.462: FINEST: gql.WebSocketLink.855932121: Message to decode: {"type":"complete","id":"40fe81b6-754d-4839-9338-958f4c1c7e2a"}
2023-06-08 09:42:19.853: INFO: gql.WebSocketLink.855932121: Change status to idle
2023-06-08 09:42:20.742: INFO: gql.links.LogRequestsLink: Request sent: SetGuideCompleted
2023-06-08 09:42:20.773: FINEST: gql.links.MultiMutationLink: (SetGuideCompleted/1312135544): Incoming request: SetGuideCompleted#1312135544 {id: 6npJx61xNsYlNr0BVLoS5V6XeJf2}
2023-06-08 09:42:20.779: FINEST: gql.links.MultiMutationLink: (SetGuideCompleted/1312135544): Listener arrived
2023-06-08 09:42:20.793: FINEST: gql.links.MultiMutationLink: (SetGuideCompleted/1312135544): Mutation saved to box with id 0
2023-06-08 09:42:20.795: FINEST: gql.links.MultiMutationLink: (SetGuideCompleted/1312135544): Register request on listen: SetGuideCompleted#1312135544 {id: 6npJx61xNsYlNr0BVLoS5V6XeJf2}. Queue length: 0
2023-06-08 09:42:20.795: FINEST: gql.links.MultiMutationLink: (SetGuideCompleted/1312135544): run a single mutation, no batching
2023-06-08 09:42:20.799: INFO: gql.WebSocketLink.78322165: Incoming request SetGuideCompleted#759051498 (d2f42129-bc77-40a5-86f4-faf68a49d12f) {"id":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2023-06-08 09:42:20.802: FINE: gql.WebSocketLink.78322165: Listening on SetGuideCompleted#759051498 (d2f42129-bc77-40a5-86f4-faf68a49d12f) {"id":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2023-06-08 09:42:20.803: FINEST: gql.links.MultiMutationLink: Completing 1312135544...
2023-06-08 09:42:20.804: INFO: gql.WebSocketLink.78322165: Change status to connected
2023-06-08 09:42:20.804: FINEST: gql.WebSocketLink.78322165: connect(145683): ws(655536867): Finished successfully
2023-06-08 09:42:20.804: FINE: gql.WebSocketLink.78322165: Send StartOperation for d2f42129-bc77-40a5-86f4-faf68a49d12f
2023-06-08 09:42:20.806: FINEST: gql.WebSocketLink.78322165: Encoded message: {"type":"start","id":"d2f42129-bc77-40a5-86f4-faf68a49d12f","payload":{"operationName":"SetGuideCompleted","variables":{"id":"6npJx61xNsYlNr0BVLoS5V6XeJf2"},"query":"query GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    pending_reviews_total\n    ...Trail\n    deleted_at\n  }\n}\n\nsubscription GetTrailByOrigId($originalId: uuid!) {\n  trail(where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription AdminQueryOrigTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {deleted_at: {_is_null: true}, original_id: {_eq: $originalId}}) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nsubscription AdminQueryVersionDetails($trailId: uuid!) {\n  trail_by_pk(id: $trailId) {\n    __typename\n    ...TrailDetails\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n        original_id\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($originalId: uuid!) {\n  trail(limit: 1, where: {_and: {original_id: {_eq: $originalId}, deleted_at: {_is_null: true}}}) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n    original_trail {\n      __typename\n      trail_link {\n        __typename\n        id\n      }\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nmutation UpsertCheckpointFileOne($file_id: uuid!, $checkpoint_id: uuid!) {\n  __typename\n  insert_checkpoint_file_one(object: {file_id: $file_id, checkpoint_id: $checkpoint_id}, on_conflict: {constraint: checkpoint_file_pkey, update_columns: file_id}) {\n    __typename\n    id\n  }\n}\n\nmutation SoftDeleteFile($id: uuid, $delete_after: timestamptz) {\n  __typename\n  update_file(where: {id: {_eq: $id}}, _set: {delete_after: $delete_after}) {\n    __typename\n    affected_rows\n  }\n}\n\nsubscription GetPendingReviewCountByTrail($uid: String!, $trailId: uuid!) {\n  review_aggregate(where: {rejected_at: {_is_null: true}, accepted_at: {_is_null: true}, activity: {trail_config: {trail: {_and: {id: {_eq: $trailId}, organisation: {organisation_memberships: {user_id: {_eq: $uid}}}}}}}}) {\n    __typename\n    aggregate {\n      __typename\n      count\n    }\n  }\n}\n\nmutation InsertTrailLink($trail_id: uuid!, $long_url: String) {\n  __typename\n  insert_trail_link_one(object: {trail_link_id_fkey: {data: {long_url: $long_url}}, trail_id: $trail_id}) {\n    __typename\n    trail_link_id_fkey {\n      __typename\n      short_url\n    }\n  }\n}\n\nmutation InsertActivityLink($activity_id: uuid!, $long_url: String) {\n  __typename\n  insert_activity_link_one(object: {perma_link: {data: {long_url: $long_url}}, activity_id: $activity_id}) {\n    __typename\n    perma_link {\n      __typename\n      short_url\n    }\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  checkpoint_file {\n    __typename\n    ...CheckpointFile\n  }\n}\n\nfragment CheckpointFile on checkpoint_file {\n  __typename\n  id\n  file_id\n  checkpoint_id\n  file {\n    __typename\n    ...File\n  }\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment File on file {\n  __typename\n  id\n  uri\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  deleted_at\n  summary_path\n  shadow_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  deleted_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  reviews {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n  deleted_at\n}\n\nfragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nfragment TrailDetails on trail {\n  __typename\n  ...Trail\n  checkpoints(order_by: {index: asc}) {\n    __typename\n    ...Checkpoint\n  }\n  original_trail {\n    __typename\n    id\n    trail_link {\n      __typename\n      id\n      link_id\n      trail_link_id_fkey {\n        __typename\n        long_url\n      }\n    }\n  }\n  trail_path\n  organisation {\n    __typename\n    id\n    organisation_memberships(where: {member_type: {_eq: admin}}) {\n      __typename\n      member_type\n      id\n      profile {\n        __typename\n        name\n      }\n    }\n  }\n  ...NewEntryStepsFields\n}"}}
2023-06-08 09:42:20.807: FINEST: gql.WebSocketLink.78322165: ... send done for d2f42129-bc77-40a5-86f4-faf68a49d12f
2023-06-08 09:42:20.922: FINEST: gql.WebSocketLink.78322165: Message to decode: {"type":"data","id":"d2f42129-bc77-40a5-86f4-faf68a49d12f","payload":{"data":{"__typename":"mutation_root","update_profile_by_pk":{"__typename":"profile","id":"6npJx61xNsYlNr0BVLoS5V6XeJf2","guide_completed":true}}}}
2023-06-08 09:42:20.923: FINER: gql.links.RetryUntilResponseLink: (SetGuideCompleted#1312135544): Got data
2023-06-08 09:42:20.923: FINEST: gql.WebSocketLink.78322165: Message to decode: {"type":"complete","id":"d2f42129-bc77-40a5-86f4-faf68a49d12f"}
2023-06-08 09:42:20.925: FINE: gql.WebSocketLink.78322165: Done for SetGuideCompleted#759051498 (d2f42129-bc77-40a5-86f4-faf68a49d12f) {"id":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2023-06-08 09:42:20.927: FINE: gql.WebSocketLink.78322165: Cancel for SetGuideCompleted#759051498 (d2f42129-bc77-40a5-86f4-faf68a49d12f) {"id":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2023-06-08 09:42:20.928: FINER: gql.links.RetryUntilResponseLink: (SetGuideCompleted#1312135544): Got done
2023-06-08 09:42:20.929: FINEST: gql.links.MultiMutationLink: Value sent for 1312135544
2023-06-08 09:42:20.930: FINEST: gql.links.MultiMutationLink: Response stream controller was closed: false
2023-06-08 09:42:20.931: FINEST: gql.links.MultiMutationLink: Deleting 1312135544 (boxId: 0)
2023-06-08 09:42:20.935: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for SetGuideCompleted
2023-06-08 09:42:20.936: INFO: gql.links.MultiMutationLink: (SetGuideCompleted/1312135544): is done
2023-06-08 09:42:21.494: FINEST: gql.WebSocketLink.78322165: Message to decode: {"type":"data","id":"396e3b68-199c-401d-8b00-0c36553c73b1","payload":{"data":{"vw_full_profile" : [{"__typename":"vw_full_profile","id":"6npJx61xNsYlNr0BVLoS5V6XeJf2","name":"Roden Janos","birth_year":1984,"gender":"male","language":"hu_HU","email":"jani9876@gmail.com","phone":"+36706087783","vat_id":"d5","city":"","address":"33","company_name":"e.v.","postal_code":1137,"guide_completed":true,"organisations_created_by_me":[{"__typename":"organisation","id":"037366df-0184-4e01-91d6-807d4c5000fe","name":"JaniOrg","url":null}]}]}}}
2023-06-08 09:42:21.495: FINER: gql.links.RetryUntilResponseLink: (GetCurrentUserProfile#1399997776): Got data
2023-06-08 09:42:21.495: FINEST: gql.links.MultiMutationLink: (GetCurrentUserProfile/1399997776): Throttling query response...
2023-06-08 09:42:21.496: FINEST: gql.links.MultiMutationLink: (GetCurrentUserProfile/1399997776): Releasing response for GetCurrentUserProfile#1399997776 {id: 6npJx61xNsYlNr0BVLoS5V6XeJf2}
2023-06-08 09:42:21.499: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetCurrentUserProfile
2023-06-08 09:42:21.506: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetCurrentUserProfile
2023-06-08 09:42:21.524: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetCompletedActivitiesCount
2023-06-08 09:42:21.680: INFO: gql.links.LogRequestsLink: Request sent: GetAgreements
2023-06-08 09:42:21.697: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Incoming request: GetAgreements#978670484 {includeUserAgreements: true}
2023-06-08 09:42:21.699: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Listener arrived
2023-06-08 09:42:21.700: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Waiting for first response...
2023-06-08 09:42:21.700: INFO: gql.WebSocketLink.78322165: Incoming request GetAgreements#2106548408 (7cd7f369-b99f-489e-8980-7ea07752ac1e) {"includeUserAgreements":true}
2023-06-08 09:42:21.701: FINE: gql.WebSocketLink.78322165: Listening on GetAgreements#2106548408 (7cd7f369-b99f-489e-8980-7ea07752ac1e) {"includeUserAgreements":true}
2023-06-08 09:42:21.701: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetAgreements
2023-06-08 09:42:21.701: FINEST: gql.WebSocketLink.78322165: connect(122332): ws(521770894): Finished successfully
2023-06-08 09:42:21.702: FINE: gql.WebSocketLink.78322165: Send StartOperation for 7cd7f369-b99f-489e-8980-7ea07752ac1e
2023-06-08 09:42:21.702: FINEST: gql.WebSocketLink.78322165: Encoded message: {"type":"start","id":"7cd7f369-b99f-489e-8980-7ea07752ac1e","payload":{"operationName":"GetAgreements","variables":{"includeUserAgreements":true},"query":"query GetAgreements($includeUserAgreements: Boolean!) {\n  __typename\n  agreement(where: {next_version_id: {_is_null: true}}) {\n    __typename\n    id\n    name_en\n    name_hu\n    changes_en\n    changes_hu\n    content_en\n    content_hu\n    created_at\n    agreement_profiles @include(if: $includeUserAgreements) {\n      __typename\n      id\n      created_at\n    }\n    prev_version {\n      __typename\n      agreement_profiles @include(if: $includeUserAgreements) {\n        __typename\n        id\n        created_at\n      }\n    }\n  }\n}\n\nmutation InsertAcceptAgreements($objects: [agreement_profile_insert_input!]!) {\n  __typename\n  insert_agreement_profile(objects: $objects) {\n    __typename\n    returning {\n      __typename\n      id\n      created_at\n    }\n  }\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}"}}
2023-06-08 09:42:21.702: FINEST: gql.WebSocketLink.78322165: ... send done for 7cd7f369-b99f-489e-8980-7ea07752ac1e
2023-06-08 09:42:21.753: FINEST: gql.WebSocketLink.78322165: Message to decode: {"type":"data","id":"7cd7f369-b99f-489e-8980-7ea07752ac1e","payload":{"data":{"__typename":"query_root","agreement":[]}}}
2023-06-08 09:42:21.753: FINER: gql.links.RetryUntilResponseLink: (GetAgreements#978670484): Got data
2023-06-08 09:42:21.754: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Got first response
2023-06-08 09:42:21.754: INFO: gql.links.MultiMutationLink: (GetAgreements/978670484): is done
2023-06-08 09:42:21.754: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Throttling query response...
2023-06-08 09:42:21.754: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Releasing response for GetAgreements#978670484 {includeUserAgreements: true}
2023-06-08 09:42:21.756: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetAgreements
2023-06-08 09:42:21.757: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Cancel request
2023-06-08 09:42:21.758: FINE: gql.WebSocketLink.78322165: Cancel for GetAgreements#2106548408 (7cd7f369-b99f-489e-8980-7ea07752ac1e) {"includeUserAgreements":true}
2023-06-08 09:42:21.758: FINEST: gql.WebSocketLink.78322165: Encoded message: {"type":"stop","id":"7cd7f369-b99f-489e-8980-7ea07752ac1e"}
2023-06-08 09:42:21.917: INFO: gql.links.LogRequestsLink: Request sent: GetAgreements
2023-06-08 09:42:21.936: FINEST: gql.WebSocketLink.78322165: Message to decode: {"type":"complete","id":"7cd7f369-b99f-489e-8980-7ea07752ac1e"}
2023-06-08 09:42:21.938: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Incoming request: GetAgreements#978670484 {includeUserAgreements: true}
2023-06-08 09:42:21.940: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Listener arrived
2023-06-08 09:42:21.941: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Waiting for first response...
2023-06-08 09:42:21.941: INFO: gql.WebSocketLink.78322165: Incoming request GetAgreements#1731483475 (552032e9-20f3-4670-b345-0b7b89ce436a) {"includeUserAgreements":true}
2023-06-08 09:42:21.942: FINE: gql.WebSocketLink.78322165: Listening on GetAgreements#1731483475 (552032e9-20f3-4670-b345-0b7b89ce436a) {"includeUserAgreements":true}
2023-06-08 09:42:21.942: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetAgreements
2023-06-08 09:42:21.942: FINEST: gql.WebSocketLink.78322165: connect(176209): ws(35654992): Finished successfully
2023-06-08 09:42:21.942: FINE: gql.WebSocketLink.78322165: Send StartOperation for 552032e9-20f3-4670-b345-0b7b89ce436a
2023-06-08 09:42:21.943: FINEST: gql.WebSocketLink.78322165: Encoded message: {"type":"start","id":"552032e9-20f3-4670-b345-0b7b89ce436a","payload":{"operationName":"GetAgreements","variables":{"includeUserAgreements":true},"query":"query GetAgreements($includeUserAgreements: Boolean!) {\n  __typename\n  agreement(where: {next_version_id: {_is_null: true}}) {\n    __typename\n    id\n    name_en\n    name_hu\n    changes_en\n    changes_hu\n    content_en\n    content_hu\n    created_at\n    agreement_profiles @include(if: $includeUserAgreements) {\n      __typename\n      id\n      created_at\n    }\n    prev_version {\n      __typename\n      agreement_profiles @include(if: $includeUserAgreements) {\n        __typename\n        id\n        created_at\n      }\n    }\n  }\n}\n\nmutation InsertAcceptAgreements($objects: [agreement_profile_insert_input!]!) {\n  __typename\n  insert_agreement_profile(objects: $objects) {\n    __typename\n    returning {\n      __typename\n      id\n      created_at\n    }\n  }\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}"}}
2023-06-08 09:42:21.943: FINEST: gql.WebSocketLink.78322165: ... send done for 552032e9-20f3-4670-b345-0b7b89ce436a
2023-06-08 09:42:22.027: FINEST: gql.WebSocketLink.78322165: Message to decode: {"type":"data","id":"552032e9-20f3-4670-b345-0b7b89ce436a","payload":{"data":{"__typename":"query_root","agreement":[]}}}
2023-06-08 09:42:22.027: FINER: gql.links.RetryUntilResponseLink: (GetAgreements#978670484): Got data
2023-06-08 09:42:22.028: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Got first response
2023-06-08 09:42:22.028: INFO: gql.links.MultiMutationLink: (GetAgreements/978670484): is done
2023-06-08 09:42:22.028: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Throttling query response...
2023-06-08 09:42:22.028: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Releasing response for GetAgreements#978670484 {includeUserAgreements: true}
2023-06-08 09:42:22.031: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetAgreements
2023-06-08 09:42:22.031: FINEST: gql.links.MultiMutationLink: (GetAgreements/978670484): Cancel request
2023-06-08 09:42:22.032: FINE: gql.WebSocketLink.78322165: Cancel for GetAgreements#1731483475 (552032e9-20f3-4670-b345-0b7b89ce436a) {"includeUserAgreements":true}
2023-06-08 09:42:22.032: FINEST: gql.WebSocketLink.78322165: Encoded message: {"type":"stop","id":"552032e9-20f3-4670-b345-0b7b89ce436a"}
2023-06-08 09:42:22.033: FINEST: gql.WebSocketLink.78322165: Message to decode: {"type":"complete","id":"552032e9-20f3-4670-b345-0b7b89ce436a"}
2023-06-08 09:42:24.607: INFO: gql.WebSocketLink.78322165: Change status to idle
2023-06-08 09:43:44.965: FINEST: gql.links.MultiMutationLink: (GetPendingReviewCount/1615186055): Cancel request
2023-06-08 09:43:44.966: FINEST: gql.links.MultiMutationLink: (GetPendingActivityCount/1236387979): Cancel request
2023-06-08 09:43:44.970: FINE: gql.WebSocketLink.855932121: Cancel for GetPendingReviewCount#476812840 (ca2aa2a4-9714-4164-a4cd-35fe9dbddfc3) {"uid":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2023-06-08 09:43:44.972: FINE: gql.WebSocketLink.855932121: Cancel for GetPendingActivityCount#1111655240 (251510da-d6d9-42c2-8be5-7a7a5a47552d) {"uid":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2023-06-08 09:43:44.972: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"stop","id":"ca2aa2a4-9714-4164-a4cd-35fe9dbddfc3"}
2023-06-08 09:43:44.973: FINEST: gql.WebSocketLink.855932121: Encoded message: {"type":"stop","id":"251510da-d6d9-42c2-8be5-7a7a5a47552d"}
