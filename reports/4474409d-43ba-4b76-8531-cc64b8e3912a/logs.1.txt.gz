2022-10-12 09:33:03.828: FINEST: Root: AppGqlClient (anonymous) will be created via lazyPut
2022-10-12 09:33:03.830: FINEST: Root: Login status has changed
2022-10-12 09:33:03.830: FINEST: Root: AppGqlClient (user) will be deleted
2022-10-12 09:33:03.830: FINEST: Root: AppGqlClient (trail_admin) will be deleted
2022-10-12 09:33:03.830: FINEST: Root: AppGqlClient (org_admin) will be deleted
2022-10-12 09:33:05.804: INFO: Common.Auth: Arrived user from Firebase minified:wA(displayName: null, email: jani9876@gmail.com, emailVerified: true, isAnonymous: false, metadata: UserMetadata(creationTime: 2021-04-23 17:23:28.000, lastSignInTime: 2022-10-04 11:17:03.000), phoneNumber: null, photoURL: null, providerData, [minified:Tf(displayName: null, email: jani9876@gmail.com, phoneNumber: null, photoURL: null, providerId: password, uid: jani9876@gmail.com)], refreshToken: AOEOulbGuHaVT4s8t4MZcMg4EBhf448ZClBR34NPGLTOSni3L4Ub-fPXsdvWyYD5EJnV7pDn4tlTUoXP_ZSwynazovf51jLmjHiKp8LES2f0uZ6WnRVSdIsIwogrg4uxUT6tai6QeKvFsjStbaq-yzWfeYQvwyb1922YSL83Ku6u568tS2JSTDHAm2WZ-OaWfveFKAG1stE6tNoQacZqorFlCQQp1sdEsg, tenantId: null, uid: 6npJx61xNsYlNr0BVLoS5V6XeJf2)
2022-10-12 09:33:05.805: FINEST: Root: Login status has changed
2022-10-12 09:33:05.805: FINEST: Root: AppGqlClient (user) will be created via lazyPut
2022-10-12 09:33:05.805: FINEST: Root: AppGqlClient (trail_admin) will be created via lazyPut
2022-10-12 09:33:05.805: FINEST: Root: AppGqlClient (org_admin) will be created via lazyPut
2022-10-12 09:33:06.063: INFO: gql.AppGqlClient: Enqueue 0 mutations from persistence
2022-10-12 09:33:06.063: INFO: gql.AppGqlClient: Enqueue done
2022-10-12 09:33:06.072: INFO: gql.links.LogRequestsLink: Request sent: GetCurrentUserProfile
2022-10-12 09:33:06.176: INFO: gql.AppGqlClient: Enqueue 0 mutations from persistence
2022-10-12 09:33:06.177: INFO: gql.AppGqlClient: Enqueue done
2022-10-12 09:33:06.189: INFO: gql.links.LogRequestsLink: Request sent: GetTrailsReview
2022-10-12 09:33:06.205: INFO: gql.links.LogRequestsLink: Request sent: GetTrails
2022-10-12 09:33:06.221: INFO: gql.links.LogRequestsLink: Request sent: GetActivities
2022-10-12 09:33:06.246: INFO: gql.links.LogRequestsLink: Request sent: GetActivities
2022-10-12 09:33:06.266: INFO: gql.links.LogRequestsLink: Request sent: GetActivities
2022-10-12 09:33:06.276: INFO: gql.links.LogRequestsLink: Request sent: GetActivities
2022-10-12 09:33:06.292: INFO: gql.links.LogRequestsLink: Request sent: GetActivities
2022-10-12 09:33:06.424: FINEST: gql.links.MultiMutationLink: (GetCurrentUserProfile/1946251868): Incoming request: GetCurrentUserProfile#1946251868 {id: 6npJx61xNsYlNr0BVLoS5V6XeJf2}
2022-10-12 09:33:06.438: FINEST: gql.links.MultiMutationLink: (GetCurrentUserProfile/1946251868): Waiting for first response...
2022-10-12 09:33:06.443: INFO: gql.WebSocketLink.247535300: Incoming request GetCurrentUserProfile#1199439251 (7a8ef4c6-cae8-4cf5-aded-7eea6bc9ee5b) {"id":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2022-10-12 09:33:06.445: FINE: gql.WebSocketLink.247535300: Listening on GetCurrentUserProfile#1199439251 (7a8ef4c6-cae8-4cf5-aded-7eea6bc9ee5b) {"id":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2022-10-12 09:33:06.446: INFO: gql.WebSocketLink.247535300: connect(102196): Connecting...
2022-10-12 09:33:06.446: INFO: gql.WebSocketLink.247535300: Change status to connecting
2022-10-12 09:33:06.446: FINE: gql.WebSocketLink.247535300: connect(102196): Run channel generator
2022-10-12 09:33:06.453: FINEST: gql.WebSocketLink.247535300: Encoded message: {"type":"connection_init","payload":{"headers":{"Authorization":"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Ijk5NjJmMDRmZWVkOTU0NWNlMjEzNGFiNTRjZWVmNTgxYWYyNGJhZmYiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vaW5zdGF0cmFpbC1jMTQ2YiIsImF1ZCI6Imluc3RhdHJhaWwtYzE0NmIiLCJhdXRoX3RpbWUiOjE2MzU0MjIxNDAsInVzZXJfaWQiOiI2bnBKeDYxeE5zWWxOcjBCVkxvUzVWNlhlSmYyIiwic3ViIjoiNm5wSng2MXhOc1lsTnIwQlZMb1M1VjZYZUpmMiIsImlhdCI6MTY2NTU1OTk4NSwiZXhwIjoxNjY1NTYzNTg1LCJlbWFpbCI6Imphbmk5ODc2QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7ImVtYWlsIjpbImphbmk5ODc2QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6InBhc3N3b3JkIn19.SPHZ4v3RaiKqHAhNQf-pIOQK7He3u452o6Dei0FqKz_uGOctfbAa04u-yP0vRSdpRe7dMEpTw620eN_L4FerjfhnccR68JvK1yi62wYPTZsI1PuDcv9EubEg0JA7xi1j7h95hVwmS9NewhtgcPgd3KAzuq6-W65zWSMi90zzgmSDE67AKVLjS1H4pD6rh3VOEJvNpbPsC4S2zPcE_dQgx34E7nspZIZjZIhl2gTxXVuKD-C8Vr9aA0ERkysiIzylHm-Fd04MY50e64sDwA3CS6-f_MSiLgNMLBBzO_hmE4FJip6FunkJNNH60nN-LYsV_FSykHUGwtQV0XvB0rDbcQ","X-Hasura-Role":"user"}}}
2022-10-12 09:33:06.453: INFO: gql.WebSocketLink.247535300: connect(102196): ws(149741904): sub(116571166): Initial payload sent, wait for ack
2022-10-12 09:33:06.484: FINEST: gql.links.MultiMutationLink: (GetTrailsReview/550712762): Incoming request: GetTrailsReview#550712762 {orderBy: asc, userId: 6npJx61xNsYlNr0BVLoS5V6XeJf2, onlyNotDeleted: false}
2022-10-12 09:33:06.502: FINEST: gql.links.MultiMutationLink: (GetTrailsReview/550712762): Waiting for first response...
2022-10-12 09:33:06.509: INFO: gql.WebSocketLink.567354398: Incoming request GetTrailsReview#1913971137 (e3ab290b-335e-403c-9bab-de5acc5c3891) {"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":false}
2022-10-12 09:33:06.511: FINE: gql.WebSocketLink.567354398: Listening on GetTrailsReview#1913971137 (e3ab290b-335e-403c-9bab-de5acc5c3891) {"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":false}
2022-10-12 09:33:06.511: INFO: gql.WebSocketLink.567354398: connect(156912): Connecting...
2022-10-12 09:33:06.511: INFO: gql.WebSocketLink.567354398: Change status to connecting
2022-10-12 09:33:06.512: FINE: gql.WebSocketLink.567354398: connect(156912): Run channel generator
2022-10-12 09:33:06.514: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"connection_init","payload":{"headers":{"Authorization":"Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Ijk5NjJmMDRmZWVkOTU0NWNlMjEzNGFiNTRjZWVmNTgxYWYyNGJhZmYiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vaW5zdGF0cmFpbC1jMTQ2YiIsImF1ZCI6Imluc3RhdHJhaWwtYzE0NmIiLCJhdXRoX3RpbWUiOjE2MzU0MjIxNDAsInVzZXJfaWQiOiI2bnBKeDYxeE5zWWxOcjBCVkxvUzVWNlhlSmYyIiwic3ViIjoiNm5wSng2MXhOc1lsTnIwQlZMb1M1VjZYZUpmMiIsImlhdCI6MTY2NTU1OTk4NSwiZXhwIjoxNjY1NTYzNTg1LCJlbWFpbCI6Imphbmk5ODc2QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7ImVtYWlsIjpbImphbmk5ODc2QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6InBhc3N3b3JkIn19.SPHZ4v3RaiKqHAhNQf-pIOQK7He3u452o6Dei0FqKz_uGOctfbAa04u-yP0vRSdpRe7dMEpTw620eN_L4FerjfhnccR68JvK1yi62wYPTZsI1PuDcv9EubEg0JA7xi1j7h95hVwmS9NewhtgcPgd3KAzuq6-W65zWSMi90zzgmSDE67AKVLjS1H4pD6rh3VOEJvNpbPsC4S2zPcE_dQgx34E7nspZIZjZIhl2gTxXVuKD-C8Vr9aA0ERkysiIzylHm-Fd04MY50e64sDwA3CS6-f_MSiLgNMLBBzO_hmE4FJip6FunkJNNH60nN-LYsV_FSykHUGwtQV0XvB0rDbcQ","X-Hasura-Role":"trail_admin"}}}
2022-10-12 09:33:06.514: INFO: gql.WebSocketLink.567354398: connect(156912): ws(63851911): sub(684635806): Initial payload sent, wait for ack
2022-10-12 09:33:06.551: FINEST: gql.links.MultiMutationLink: (GetTrails/1372108580): Incoming request: GetTrails#1372108580 {orderBy: asc, userId: 6npJx61xNsYlNr0BVLoS5V6XeJf2, onlyNotDeleted: true}
2022-10-12 09:33:06.563: FINEST: gql.links.MultiMutationLink: (GetTrails/1372108580): Waiting for first response...
2022-10-12 09:33:06.567: INFO: gql.WebSocketLink.567354398: Incoming request GetTrails#1214984267 (d4f9a783-24ac-4272-919f-6c4539ad4cd9) {"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":true}
2022-10-12 09:33:06.575: FINE: gql.WebSocketLink.567354398: Listening on GetTrails#1214984267 (d4f9a783-24ac-4272-919f-6c4539ad4cd9) {"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":true}
2022-10-12 09:33:06.598: FINEST: gql.links.MultiMutationLink: (GetActivities/2054404541): Incoming request: GetActivities#2054404541 {trunc: HOUR, tzoffset: 2}
2022-10-12 09:33:06.606: FINEST: gql.links.MultiMutationLink: (GetActivities/2054404541): Waiting for first response...
2022-10-12 09:33:06.609: INFO: gql.WebSocketLink.567354398: Incoming request GetActivities#2023352185 (19ceb648-3d00-4e0c-80a2-4cd2f5fc9145) {"trunc":"HOUR","tzoffset":2}
2022-10-12 09:33:06.612: FINE: gql.WebSocketLink.567354398: Listening on GetActivities#2023352185 (19ceb648-3d00-4e0c-80a2-4cd2f5fc9145) {"trunc":"HOUR","tzoffset":2}
2022-10-12 09:33:06.670: FINEST: gql.links.MultiMutationLink: (GetActivities/2054404541): Incoming request: GetActivities#2054404541 {trunc: HOUR, tzoffset: 2}
2022-10-12 09:33:06.756: FINEST: gql.links.MultiMutationLink: (GetActivities/1842365416): Incoming request: GetActivities#1842365416 {trunc: DAY, tzoffset: 2}
2022-10-12 09:33:06.779: FINEST: gql.links.MultiMutationLink: (GetActivities/1842365416): Incoming request: GetActivities#1842365416 {trunc: DAY, tzoffset: 2}
2022-10-12 09:33:06.800: FINEST: gql.links.MultiMutationLink: (GetActivities/2099446412): Incoming request: GetActivities#2099446412 {trunc: MONTH, tzoffset: 2}
2022-10-12 09:33:07.212: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:33:07.246: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"connection_ack"}
2022-10-12 09:33:07.247: INFO: gql.WebSocketLink.247535300: connect(102196): ws(149741904): sub(116571166): Got connection ack
2022-10-12 09:33:07.248: FINE: gql.WebSocketLink.247535300: Restarting 0 requests
2022-10-12 09:33:07.248: INFO: gql.WebSocketLink.247535300: connect(102196): ws(149741904): sub(116571166): Connection initialized
2022-10-12 09:33:07.249: INFO: gql.WebSocketLink.247535300: Change status to connected
2022-10-12 09:33:07.249: FINEST: gql.WebSocketLink.247535300: connect(102196): ws(149741904): sub(116571166): Finished successfully
2022-10-12 09:33:07.250: FINE: gql.WebSocketLink.247535300: Send StartOperation for 7a8ef4c6-cae8-4cf5-aded-7eea6bc9ee5b
2022-10-12 09:33:07.250: FINEST: gql.WebSocketLink.247535300: Encoded message: {"type":"start","id":"7a8ef4c6-cae8-4cf5-aded-7eea6bc9ee5b","payload":{"operationName":"GetCurrentUserProfile","variables":{"id":"6npJx61xNsYlNr0BVLoS5V6XeJf2"},"query":"subscription GetCurrentUserProfile($id: String!) {\n  vw_full_profile(where: {id: {_eq: $id}}) {\n    __typename\n    ...FullProfile\n  }\n}\n\nquery GetProfile($id: String!) {\n  __typename\n  vw_full_profile(where: {id: {_eq: $id}}) {\n    __typename\n    ...FullProfile\n  }\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}"}}
2022-10-12 09:33:07.251: FINEST: gql.WebSocketLink.247535300: ... send done for 7a8ef4c6-cae8-4cf5-aded-7eea6bc9ee5b
2022-10-12 09:33:07.260: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:33:07.261: INFO: gql.WebSocketLink.247535300: Change status to idle
2022-10-12 09:33:07.368: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:33:07.398: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"connection_ack"}
2022-10-12 09:33:07.399: INFO: gql.WebSocketLink.567354398: connect(156912): ws(63851911): sub(684635806): Got connection ack
2022-10-12 09:33:07.399: FINE: gql.WebSocketLink.567354398: Restarting 0 requests
2022-10-12 09:33:07.400: INFO: gql.WebSocketLink.567354398: connect(156912): ws(63851911): sub(684635806): Connection initialized
2022-10-12 09:33:07.400: INFO: gql.WebSocketLink.567354398: Change status to connected
2022-10-12 09:33:07.400: FINEST: gql.WebSocketLink.567354398: connect(156912): ws(63851911): sub(684635806): Finished successfully
2022-10-12 09:33:07.400: FINE: gql.WebSocketLink.567354398: Send StartOperation for e3ab290b-335e-403c-9bab-de5acc5c3891
2022-10-12 09:33:07.403: FINEST: gql.WebSocketLink.567354398: connect(118485): ws(944361354): Finished successfully
2022-10-12 09:33:07.403: FINE: gql.WebSocketLink.567354398: Send StartOperation for d4f9a783-24ac-4272-919f-6c4539ad4cd9
2022-10-12 09:33:07.406: FINEST: gql.WebSocketLink.567354398: connect(195567): ws(760918145): Finished successfully
2022-10-12 09:33:07.406: FINE: gql.WebSocketLink.567354398: Send StartOperation for 19ceb648-3d00-4e0c-80a2-4cd2f5fc9145
2022-10-12 09:33:07.409: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"start","id":"e3ab290b-335e-403c-9bab-de5acc5c3891","payload":{"operationName":"GetTrailsReview","variables":{"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":false},"query":"fragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nquery GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrailsReview($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  vw_trail_reviews(order_by: {original_trail: {name: $orderBy}}, where: {original_trail: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}) {\n    __typename\n    original_trail {\n      __typename\n      ...Trail\n      deleted_at\n    }\n    pending_reviews\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    ...Trail\n    original_trail {\n      __typename\n      trail_review_stat {\n        __typename\n        pending_reviews\n      }\n    }\n    deleted_at\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($id: uuid!) {\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  file_id\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  summary_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  caption\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  review {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n}"}}
2022-10-12 09:33:07.410: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"start","id":"d4f9a783-24ac-4272-919f-6c4539ad4cd9","payload":{"operationName":"GetTrails","variables":{"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":true},"query":"fragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nquery GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrailsReview($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  vw_trail_reviews(order_by: {original_trail: {name: $orderBy}}, where: {original_trail: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}) {\n    __typename\n    original_trail {\n      __typename\n      ...Trail\n      deleted_at\n    }\n    pending_reviews\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    ...Trail\n    original_trail {\n      __typename\n      trail_review_stat {\n        __typename\n        pending_reviews\n      }\n    }\n    deleted_at\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($id: uuid!) {\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  file_id\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  summary_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  caption\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  review {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n}"}}
2022-10-12 09:33:07.410: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"start","id":"19ceb648-3d00-4e0c-80a2-4cd2f5fc9145","payload":{"operationName":"GetActivities","variables":{"trunc":"HOUR","tzoffset":2},"query":"fragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nquery GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrailsReview($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  vw_trail_reviews(order_by: {original_trail: {name: $orderBy}}, where: {original_trail: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}) {\n    __typename\n    original_trail {\n      __typename\n      ...Trail\n      deleted_at\n    }\n    pending_reviews\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    ...Trail\n    original_trail {\n      __typename\n      trail_review_stat {\n        __typename\n        pending_reviews\n      }\n    }\n    deleted_at\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($id: uuid!) {\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  file_id\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  summary_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  caption\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  review {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n}"}}
2022-10-12 09:33:07.411: FINEST: gql.WebSocketLink.567354398: ... send done for e3ab290b-335e-403c-9bab-de5acc5c3891
2022-10-12 09:33:07.411: FINEST: gql.WebSocketLink.567354398: ... send done for d4f9a783-24ac-4272-919f-6c4539ad4cd9
2022-10-12 09:33:07.411: FINEST: gql.WebSocketLink.567354398: ... send done for 19ceb648-3d00-4e0c-80a2-4cd2f5fc9145
2022-10-12 09:33:07.422: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:33:07.423: INFO: gql.WebSocketLink.567354398: Change status to idle
2022-10-12 09:33:07.488: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"data","id":"d4f9a783-24ac-4272-919f-6c4539ad4cd9","payload":{"data":{"trail" : []}}}
2022-10-12 09:33:07.489: INFO: gql.WebSocketLink.567354398: Change status to connected
2022-10-12 09:33:07.490: FINER: gql.links.RetryUntilResponseLink: (GetTrails#1372108580): Got data
2022-10-12 09:33:07.491: FINEST: gql.links.MultiMutationLink: (GetTrails/1372108580): Got first response
2022-10-12 09:33:07.491: INFO: gql.links.MultiMutationLink: (GetTrails/1372108580): is done
2022-10-12 09:33:07.492: FINEST: gql.links.MultiMutationLink: (GetTrails/1372108580): Throttling query response...
2022-10-12 09:33:07.494: FINEST: gql.links.MultiMutationLink: (GetTrails/1372108580): Releasing response for GetTrails#1372108580 {orderBy: asc, userId: 6npJx61xNsYlNr0BVLoS5V6XeJf2, onlyNotDeleted: true}
2022-10-12 09:33:07.503: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetTrails
2022-10-12 09:33:07.559: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2022-10-12 09:33:07.600: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"data","id":"19ceb648-3d00-4e0c-80a2-4cd2f5fc9145","payload":{"data":{"ob_get_activities" : []}}}
2022-10-12 09:33:07.601: FINER: gql.links.RetryUntilResponseLink: (GetActivities#2054404541): Got data
2022-10-12 09:33:07.602: FINEST: gql.links.MultiMutationLink: (GetActivities/2054404541): Got first response
2022-10-12 09:33:07.602: INFO: gql.links.MultiMutationLink: (GetActivities/2054404541): is done
2022-10-12 09:33:07.602: FINEST: gql.links.MultiMutationLink: (GetActivities/2054404541): Waiting for first response...
2022-10-12 09:33:07.606: INFO: gql.WebSocketLink.567354398: Incoming request GetActivities#1754541419 (c178f411-b1ec-4039-aa2e-ff412bc0a184) {"trunc":"HOUR","tzoffset":2}
2022-10-12 09:33:07.607: FINE: gql.WebSocketLink.567354398: Listening on GetActivities#1754541419 (c178f411-b1ec-4039-aa2e-ff412bc0a184) {"trunc":"HOUR","tzoffset":2}
2022-10-12 09:33:07.608: FINEST: gql.links.MultiMutationLink: (GetActivities/2054404541): Throttling query response...
2022-10-12 09:33:07.608: FINEST: gql.WebSocketLink.567354398: connect(188069): ws(428827521): Finished successfully
2022-10-12 09:33:07.608: FINE: gql.WebSocketLink.567354398: Send StartOperation for c178f411-b1ec-4039-aa2e-ff412bc0a184
2022-10-12 09:33:07.612: FINEST: gql.links.MultiMutationLink: (GetActivities/2054404541): Releasing response for GetActivities#2054404541 {trunc: HOUR, tzoffset: 2}
2022-10-12 09:33:07.612: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"start","id":"c178f411-b1ec-4039-aa2e-ff412bc0a184","payload":{"operationName":"GetActivities","variables":{"trunc":"HOUR","tzoffset":2},"query":"fragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nquery GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrailsReview($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  vw_trail_reviews(order_by: {original_trail: {name: $orderBy}}, where: {original_trail: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}) {\n    __typename\n    original_trail {\n      __typename\n      ...Trail\n      deleted_at\n    }\n    pending_reviews\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    ...Trail\n    original_trail {\n      __typename\n      trail_review_stat {\n        __typename\n        pending_reviews\n      }\n    }\n    deleted_at\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($id: uuid!) {\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  file_id\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  summary_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  caption\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  review {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n}"}}
2022-10-12 09:33:07.617: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetActivities
2022-10-12 09:33:07.619: FINEST: gql.WebSocketLink.567354398: ... send done for c178f411-b1ec-4039-aa2e-ff412bc0a184
2022-10-12 09:33:07.662: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2022-10-12 09:33:07.663: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:07.663: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:09.771: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"data","id":"7a8ef4c6-cae8-4cf5-aded-7eea6bc9ee5b","payload":{"data":{"vw_full_profile" : [{"__typename":"vw_full_profile","id":"6npJx61xNsYlNr0BVLoS5V6XeJf2","name":"Roden Janos","birth_year":1984,"gender":"male","language":null,"email":"jani9876@gmail.com","phone":"+36706087783","vat_id":"d","city":"","address":"33","company_name":"e.v.","postal_code":1137,"guide_completed":false,"organisations_created_by_me":[{"__typename":"organisation","id":"037366df-0184-4e01-91d6-807d4c5000fe","name":"JaniOrg","url":null}]}]}}}
2022-10-12 09:33:09.773: INFO: gql.WebSocketLink.247535300: Change status to connected
2022-10-12 09:33:09.775: FINER: gql.links.RetryUntilResponseLink: (GetCurrentUserProfile#1946251868): Got data
2022-10-12 09:33:09.775: FINEST: gql.links.MultiMutationLink: (GetCurrentUserProfile/1946251868): Got first response
2022-10-12 09:33:09.776: INFO: gql.links.MultiMutationLink: (GetCurrentUserProfile/1946251868): is done
2022-10-12 09:33:09.776: FINEST: gql.links.MultiMutationLink: (GetCurrentUserProfile/1946251868): Throttling query response...
2022-10-12 09:33:09.780: FINEST: gql.links.MultiMutationLink: (GetCurrentUserProfile/1946251868): Releasing response for GetCurrentUserProfile#1946251868 {id: 6npJx61xNsYlNr0BVLoS5V6XeJf2}
2022-10-12 09:33:09.804: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetCurrentUserProfile
2022-10-12 09:33:09.817: INFO: gql.links.LogRequestsLink: Request sent: GetAgreements
2022-10-12 09:33:09.821: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetCurrentUserProfile
2022-10-12 09:33:09.823: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"data","id":"e3ab290b-335e-403c-9bab-de5acc5c3891","payload":{"data":{"vw_trail_reviews" : [{"__typename":"vw_trail_reviews","original_trail":{"__typename":"trail","id":"a06682f2-1b85-4b7c-9df1-06bf050092fb","name":"3H Oroszlnos kr","summary":null,"description":"[{\"insert\":\"Oroszlnos kr\\n\\nTv: 6km\\nSzintemelkeds: 250 m\\nSzintid: 1,5 ra futva, 2,5 ra trzva\\n\\nFenygyngye  Rt  Oroszln-szikla - Hatrnyereg  - Hatrk - jlaki-hegy  Hrmashatr-hegy  Hrmashatrhegyi t - Fenygyngye \\n\\n\\n\"}]","summary_path":"{ddaHsd_sBPUB]zAzDdApK{BtLb@zD\\rApGrEJtAU|AcDvNi@dC]`MmBbD_C`C{AjBo@x@{@bAmAhAwA|@_Bn@oAf@qAp@uBjCmAvB]r@}H`G}AlAEWqBqIuBgIoVk@EFg@aDRqAr@q@To@oB}C?qD_CcICMOeBaAaBeAwDoAwDFeBt@uE{@kHrDmGbDcFv@[pDqF|CmAfDbAr@P~SmJh@c@hLwTzFmIjA?JHB`KOnALh@dFvG|AlC","elevation_meters":0,"length_meters":6009.8013,"minimum_height_meters":0,"maximum_height_meters":0,"popularity":0,"circular_checkpoints":true,"accessible":false,"difficulty":1,"original_id":"a06682f2-1b85-4b7c-9df1-06bf050092fb","payment_info":"","trail_configs":[{"__typename":"trail_config","id":"2c16bcb1-f98c-4a10-9376-9b5045f44b4b","trail_id":"a06682f2-1b85-4b7c-9df1-06bf050092fb","completion_note":"","limit_seconds":9000,"pricing":0,"approve_required":false,"activity_type":{"__typename":"activity_type","id":"f602d0e2-56d7-439f-a2a3-61ff0fb6e8a2","name_en":"Hike","name_hu":"Trzva","material_icon_name":"walk","weight":10},"reward_type":{"__typename":"reward_type","id":"dd2701a9-52da-42a5-b0d2-78c00b872452","name_en":"Fame","name_hu":"Hrnv","material_icon_name":"flowerOutline","weight":10}}, {"__typename":"trail_config","id":"4960740f-bd0c-41f3-b1a5-ac7205f7659b","trail_id":"a06682f2-1b85-4b7c-9df1-06bf050092fb","completion_note":"","limit_seconds":5400,"pricing":0,"approve_required":false,"activity_type":{"__typename":"activity_type","id":"e310caea-216e-4fa8-af02-5855ed31a47d","name_en":"Run","name_hu":"Futva","material_icon_name":"run","weight":30},"reward_type":{"__typename":"reward_type","id":"dd2701a9-52da-42a5-b0d2-78c00b872452","name_en":"Fame","name_hu":"Hrnv","material_icon_name":"flowerOutline","weight":10}}],"deleted_at":"2022-09-29T12:56:20.304+00:00"},"pending_reviews":0}, {"__typename":"vw_trail_reviews","original_trail":{"__typename":"trail","id":"50a13e90-5ce1-4dc4-8f6c-f8d9c10ad4ac","name":"Jani Work2Home","summary":"Busszal haza :)","description":"[{\"insert\":\"\\n\"}]","summary_path":"cl}`H{cisBzGsKlCwEoLiSgAqCuBsDuBkDaM_TJyBmAaBkHyIoQoZ}KtHgJzKuB|B}AtCcBzBoF|IsDwEwJ{TcByD}C}GuBeFqAoCmPyHkE{BqBi@iOaEkKyEgD{Ae[sNa@vEmBxBoD|DoCfCiCbB}YyLeCpSeBrNbF~ArEzA","elevation_meters":48.2,"length_meters":7460.377,"minimum_height_meters":104.7,"maximum_height_meters":116.6,"popularity":0,"circular_checkpoints":false,"accessible":false,"difficulty":5,"original_id":"50a13e90-5ce1-4dc4-8f6c-f8d9c10ad4ac","payment_info":null,"trail_configs":[{"__typename":"trail_config","id":"5129aec7-3747-4c99-a6a6-d7fdb4f7b1df","trail_id":"50a13e90-5ce1-4dc4-8f6c-f8d9c10ad4ac","completion_note":null,"limit_seconds":0,"pricing":0,"approve_required":false,"activity_type":{"__typename":"activity_type","id":"f602d0e2-56d7-439f-a2a3-61ff0fb6e8a2","name_en":"Hike","name_hu":"Trzva","material_icon_name":"walk","weight":10},"reward_type":{"__typename":"reward_type","id":"dd2701a9-52da-42a5-b0d2-78c00b872452","name_en":"Fame","name_hu":"Hrnv","material_icon_name":"flowerOutline","weight":10}}],"deleted_at":"2022-03-24T09:15:47.296858+00:00"},"pending_reviews":0}]}}}
2022-10-12 09:33:09.826: FINER: gql.links.RetryUntilResponseLink: (GetTrailsReview#550712762): Got data
2022-10-12 09:33:09.827: FINEST: gql.links.MultiMutationLink: (GetTrailsReview/550712762): Got first response
2022-10-12 09:33:09.828: INFO: gql.links.MultiMutationLink: (GetTrailsReview/550712762): is done
2022-10-12 09:33:09.828: FINEST: gql.links.MultiMutationLink: (GetTrailsReview/550712762): Throttling query response...
2022-10-12 09:33:09.831: FINEST: gql.links.MultiMutationLink: (GetTrailsReview/550712762): Releasing response for GetTrailsReview#550712762 {orderBy: asc, userId: 6npJx61xNsYlNr0BVLoS5V6XeJf2, onlyNotDeleted: false}
2022-10-12 09:33:09.870: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetTrailsReview
2022-10-12 09:33:10.004: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrailsReview
2022-10-12 09:33:10.005: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2022-10-12 09:33:10.006: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:10.006: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:10.292: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"data","id":"c178f411-b1ec-4039-aa2e-ff412bc0a184","payload":{"data":{"ob_get_activities" : []}}}
2022-10-12 09:33:10.299: FINER: gql.links.RetryUntilResponseLink: (GetActivities#2054404541): Got data
2022-10-12 09:33:10.299: FINEST: gql.links.MultiMutationLink: (GetActivities/2054404541): Got first response
2022-10-12 09:33:10.301: INFO: gql.links.MultiMutationLink: (GetActivities/2054404541): is done
2022-10-12 09:33:10.305: FINEST: gql.links.MultiMutationLink: (GetActivities/1842365416): Waiting for first response...
2022-10-12 09:33:10.327: INFO: gql.WebSocketLink.567354398: Incoming request GetActivities#2095522748 (0a513bf1-efbc-46de-8b1b-25fa841b9e45) {"trunc":"DAY","tzoffset":2}
2022-10-12 09:33:10.330: FINE: gql.WebSocketLink.567354398: Listening on GetActivities#2095522748 (0a513bf1-efbc-46de-8b1b-25fa841b9e45) {"trunc":"DAY","tzoffset":2}
2022-10-12 09:33:10.331: FINEST: gql.links.MultiMutationLink: (GetActivities/2054404541): Throttling query response...
2022-10-12 09:33:10.332: FINEST: gql.WebSocketLink.567354398: connect(120262): ws(267274916): Finished successfully
2022-10-12 09:33:10.333: FINE: gql.WebSocketLink.567354398: Send StartOperation for 0a513bf1-efbc-46de-8b1b-25fa841b9e45
2022-10-12 09:33:10.340: FINEST: gql.links.MultiMutationLink: (GetActivities/2054404541): Releasing response for GetActivities#2054404541 {trunc: HOUR, tzoffset: 2}
2022-10-12 09:33:10.341: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"start","id":"0a513bf1-efbc-46de-8b1b-25fa841b9e45","payload":{"operationName":"GetActivities","variables":{"trunc":"DAY","tzoffset":2},"query":"fragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nquery GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrailsReview($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  vw_trail_reviews(order_by: {original_trail: {name: $orderBy}}, where: {original_trail: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}) {\n    __typename\n    original_trail {\n      __typename\n      ...Trail\n      deleted_at\n    }\n    pending_reviews\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    ...Trail\n    original_trail {\n      __typename\n      trail_review_stat {\n        __typename\n        pending_reviews\n      }\n    }\n    deleted_at\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($id: uuid!) {\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  file_id\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  summary_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  caption\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  review {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n}"}}
2022-10-12 09:33:10.346: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetActivities
2022-10-12 09:33:10.352: FINEST: gql.WebSocketLink.567354398: ... send done for 0a513bf1-efbc-46de-8b1b-25fa841b9e45
2022-10-12 09:33:10.430: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrailsReview
2022-10-12 09:33:10.432: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2022-10-12 09:33:10.442: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:10.445: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:10.678: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"data","id":"0a513bf1-efbc-46de-8b1b-25fa841b9e45","payload":{"data":{"ob_get_activities" : []}}}
2022-10-12 09:33:10.680: FINER: gql.links.RetryUntilResponseLink: (GetActivities#1842365416): Got data
2022-10-12 09:33:10.680: FINEST: gql.links.MultiMutationLink: (GetActivities/1842365416): Got first response
2022-10-12 09:33:10.681: INFO: gql.links.MultiMutationLink: (GetActivities/1842365416): is done
2022-10-12 09:33:10.681: FINEST: gql.links.MultiMutationLink: (GetActivities/1842365416): Waiting for first response...
2022-10-12 09:33:10.685: INFO: gql.WebSocketLink.567354398: Incoming request GetActivities#1648177668 (dad80891-9c2e-4b41-b3c6-347d7e0e3617) {"trunc":"DAY","tzoffset":2}
2022-10-12 09:33:10.714: FINE: gql.WebSocketLink.567354398: Listening on GetActivities#1648177668 (dad80891-9c2e-4b41-b3c6-347d7e0e3617) {"trunc":"DAY","tzoffset":2}
2022-10-12 09:33:10.715: FINEST: gql.links.MultiMutationLink: (GetActivities/1842365416): Throttling query response...
2022-10-12 09:33:10.715: FINEST: gql.WebSocketLink.567354398: connect(149589): ws(868233298): Finished successfully
2022-10-12 09:33:10.716: FINE: gql.WebSocketLink.567354398: Send StartOperation for dad80891-9c2e-4b41-b3c6-347d7e0e3617
2022-10-12 09:33:10.723: FINEST: gql.links.MultiMutationLink: (GetActivities/1842365416): Releasing response for GetActivities#1842365416 {trunc: DAY, tzoffset: 2}
2022-10-12 09:33:10.723: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"start","id":"dad80891-9c2e-4b41-b3c6-347d7e0e3617","payload":{"operationName":"GetActivities","variables":{"trunc":"DAY","tzoffset":2},"query":"fragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nquery GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrailsReview($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  vw_trail_reviews(order_by: {original_trail: {name: $orderBy}}, where: {original_trail: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}) {\n    __typename\n    original_trail {\n      __typename\n      ...Trail\n      deleted_at\n    }\n    pending_reviews\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    ...Trail\n    original_trail {\n      __typename\n      trail_review_stat {\n        __typename\n        pending_reviews\n      }\n    }\n    deleted_at\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($id: uuid!) {\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  file_id\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  summary_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  caption\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  review {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n}"}}
2022-10-12 09:33:10.733: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetActivities
2022-10-12 09:33:10.737: FINEST: gql.WebSocketLink.567354398: ... send done for dad80891-9c2e-4b41-b3c6-347d7e0e3617
2022-10-12 09:33:10.779: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrailsReview
2022-10-12 09:33:10.780: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2022-10-12 09:33:10.780: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:10.781: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:10.782: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:10.783: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:11.238: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Incoming request: GetAgreements#1240288031 {includeUserAgreements: true}
2022-10-12 09:33:11.243: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Waiting for first response...
2022-10-12 09:33:11.245: INFO: gql.WebSocketLink.247535300: Incoming request GetAgreements#183732175 (39a0fba5-14a5-4a45-9820-186c3348cb3d) {"includeUserAgreements":true}
2022-10-12 09:33:11.246: FINE: gql.WebSocketLink.247535300: Listening on GetAgreements#183732175 (39a0fba5-14a5-4a45-9820-186c3348cb3d) {"includeUserAgreements":true}
2022-10-12 09:33:11.246: FINEST: gql.WebSocketLink.247535300: connect(182348): ws(738831279): Finished successfully
2022-10-12 09:33:11.246: FINE: gql.WebSocketLink.247535300: Send StartOperation for 39a0fba5-14a5-4a45-9820-186c3348cb3d
2022-10-12 09:33:11.247: FINEST: gql.WebSocketLink.247535300: Encoded message: {"type":"start","id":"39a0fba5-14a5-4a45-9820-186c3348cb3d","payload":{"operationName":"GetAgreements","variables":{"includeUserAgreements":true},"query":"query GetAgreements($includeUserAgreements: Boolean!) {\n  __typename\n  agreement(where: {next_version_id: {_is_null: true}}) {\n    __typename\n    id\n    name_en\n    name_hu\n    changes_en\n    changes_hu\n    content_en\n    content_hu\n    created_at\n    agreement_profiles @include(if: $includeUserAgreements) {\n      __typename\n      id\n      created_at\n    }\n    prev_version {\n      __typename\n      agreement_profiles @include(if: $includeUserAgreements) {\n        __typename\n        id\n        created_at\n      }\n    }\n  }\n}\n\nmutation InsertAcceptAgreements($objects: [agreement_profile_insert_input!]!) {\n  __typename\n  insert_agreement_profile(objects: $objects) {\n    __typename\n    returning {\n      __typename\n      id\n      created_at\n    }\n  }\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}"}}
2022-10-12 09:33:11.247: FINEST: gql.WebSocketLink.247535300: ... send done for 39a0fba5-14a5-4a45-9820-186c3348cb3d
2022-10-12 09:33:11.311: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"data","id":"39a0fba5-14a5-4a45-9820-186c3348cb3d","payload":{"data":{"__typename":"query_root","agreement":[]}}}
2022-10-12 09:33:11.312: FINER: gql.links.RetryUntilResponseLink: (GetAgreements#1240288031): Got data
2022-10-12 09:33:11.312: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Got first response
2022-10-12 09:33:11.313: INFO: gql.links.MultiMutationLink: (GetAgreements/1240288031): is done
2022-10-12 09:33:11.313: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Throttling query response...
2022-10-12 09:33:11.314: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Releasing response for GetAgreements#1240288031 {includeUserAgreements: true}
2022-10-12 09:33:11.318: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetAgreements
2022-10-12 09:33:11.319: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Cancel request
2022-10-12 09:33:11.323: FINE: gql.WebSocketLink.247535300: Cancel for GetAgreements#183732175 (39a0fba5-14a5-4a45-9820-186c3348cb3d) {"includeUserAgreements":true}
2022-10-12 09:33:11.324: FINEST: gql.WebSocketLink.247535300: Encoded message: {"type":"stop","id":"39a0fba5-14a5-4a45-9820-186c3348cb3d"}
2022-10-12 09:33:11.327: INFO: gql.links.LogRequestsLink: Request sent: GetAgreements
2022-10-12 09:33:11.397: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"complete","id":"39a0fba5-14a5-4a45-9820-186c3348cb3d"}
2022-10-12 09:33:11.559: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"data","id":"dad80891-9c2e-4b41-b3c6-347d7e0e3617","payload":{"data":{"ob_get_activities" : []}}}
2022-10-12 09:33:11.561: FINER: gql.links.RetryUntilResponseLink: (GetActivities#1842365416): Got data
2022-10-12 09:33:11.562: FINEST: gql.links.MultiMutationLink: (GetActivities/1842365416): Got first response
2022-10-12 09:33:11.563: INFO: gql.links.MultiMutationLink: (GetActivities/1842365416): is done
2022-10-12 09:33:11.563: FINEST: gql.links.MultiMutationLink: (GetActivities/2099446412): Waiting for first response...
2022-10-12 09:33:11.568: INFO: gql.WebSocketLink.567354398: Incoming request GetActivities#1770077444 (5dc6e359-758c-4c0b-83da-e571752dd6c3) {"trunc":"MONTH","tzoffset":2}
2022-10-12 09:33:11.570: FINE: gql.WebSocketLink.567354398: Listening on GetActivities#1770077444 (5dc6e359-758c-4c0b-83da-e571752dd6c3) {"trunc":"MONTH","tzoffset":2}
2022-10-12 09:33:11.571: FINEST: gql.links.MultiMutationLink: (GetActivities/1842365416): Throttling query response...
2022-10-12 09:33:11.571: FINEST: gql.WebSocketLink.567354398: connect(103836): ws(633331629): Finished successfully
2022-10-12 09:33:11.572: FINE: gql.WebSocketLink.567354398: Send StartOperation for 5dc6e359-758c-4c0b-83da-e571752dd6c3
2022-10-12 09:33:11.576: FINEST: gql.links.MultiMutationLink: (GetActivities/1842365416): Releasing response for GetActivities#1842365416 {trunc: DAY, tzoffset: 2}
2022-10-12 09:33:11.576: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"start","id":"5dc6e359-758c-4c0b-83da-e571752dd6c3","payload":{"operationName":"GetActivities","variables":{"trunc":"MONTH","tzoffset":2},"query":"fragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nquery GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrailsReview($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  vw_trail_reviews(order_by: {original_trail: {name: $orderBy}}, where: {original_trail: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}) {\n    __typename\n    original_trail {\n      __typename\n      ...Trail\n      deleted_at\n    }\n    pending_reviews\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    ...Trail\n    original_trail {\n      __typename\n      trail_review_stat {\n        __typename\n        pending_reviews\n      }\n    }\n    deleted_at\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($id: uuid!) {\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  file_id\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  summary_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  caption\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  review {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n}"}}
2022-10-12 09:33:11.581: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetActivities
2022-10-12 09:33:11.584: FINEST: gql.WebSocketLink.567354398: ... send done for 5dc6e359-758c-4c0b-83da-e571752dd6c3
2022-10-12 09:33:11.624: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrailsReview
2022-10-12 09:33:11.625: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2022-10-12 09:33:11.626: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:11.627: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:11.627: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:11.628: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:11.779: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Incoming request: GetAgreements#1240288031 {includeUserAgreements: true}
2022-10-12 09:33:11.782: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetAgreements
2022-10-12 09:33:11.784: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Waiting for first response...
2022-10-12 09:33:11.786: INFO: gql.WebSocketLink.247535300: Incoming request GetAgreements#1194564763 (78169c1c-8007-4e89-963b-ac895df811d8) {"includeUserAgreements":true}
2022-10-12 09:33:11.787: FINE: gql.WebSocketLink.247535300: Listening on GetAgreements#1194564763 (78169c1c-8007-4e89-963b-ac895df811d8) {"includeUserAgreements":true}
2022-10-12 09:33:11.788: FINEST: gql.WebSocketLink.247535300: connect(131961): ws(63394755): Finished successfully
2022-10-12 09:33:11.788: FINE: gql.WebSocketLink.247535300: Send StartOperation for 78169c1c-8007-4e89-963b-ac895df811d8
2022-10-12 09:33:11.790: FINEST: gql.WebSocketLink.247535300: Encoded message: {"type":"start","id":"78169c1c-8007-4e89-963b-ac895df811d8","payload":{"operationName":"GetAgreements","variables":{"includeUserAgreements":true},"query":"query GetAgreements($includeUserAgreements: Boolean!) {\n  __typename\n  agreement(where: {next_version_id: {_is_null: true}}) {\n    __typename\n    id\n    name_en\n    name_hu\n    changes_en\n    changes_hu\n    content_en\n    content_hu\n    created_at\n    agreement_profiles @include(if: $includeUserAgreements) {\n      __typename\n      id\n      created_at\n    }\n    prev_version {\n      __typename\n      agreement_profiles @include(if: $includeUserAgreements) {\n        __typename\n        id\n        created_at\n      }\n    }\n  }\n}\n\nmutation InsertAcceptAgreements($objects: [agreement_profile_insert_input!]!) {\n  __typename\n  insert_agreement_profile(objects: $objects) {\n    __typename\n    returning {\n      __typename\n      id\n      created_at\n    }\n  }\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}"}}
2022-10-12 09:33:11.790: FINEST: gql.WebSocketLink.247535300: ... send done for 78169c1c-8007-4e89-963b-ac895df811d8
2022-10-12 09:33:11.848: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"data","id":"78169c1c-8007-4e89-963b-ac895df811d8","payload":{"data":{"__typename":"query_root","agreement":[]}}}
2022-10-12 09:33:11.850: FINER: gql.links.RetryUntilResponseLink: (GetAgreements#1240288031): Got data
2022-10-12 09:33:11.851: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Got first response
2022-10-12 09:33:11.851: INFO: gql.links.MultiMutationLink: (GetAgreements/1240288031): is done
2022-10-12 09:33:11.852: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Throttling query response...
2022-10-12 09:33:11.853: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Releasing response for GetAgreements#1240288031 {includeUserAgreements: true}
2022-10-12 09:33:11.855: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetAgreements
2022-10-12 09:33:11.856: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Cancel request
2022-10-12 09:33:11.859: FINE: gql.WebSocketLink.247535300: Cancel for GetAgreements#1194564763 (78169c1c-8007-4e89-963b-ac895df811d8) {"includeUserAgreements":true}
2022-10-12 09:33:11.859: FINEST: gql.WebSocketLink.247535300: Encoded message: {"type":"stop","id":"78169c1c-8007-4e89-963b-ac895df811d8"}
2022-10-12 09:33:11.908: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"complete","id":"78169c1c-8007-4e89-963b-ac895df811d8"}
2022-10-12 09:33:12.228: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:33:12.228: INFO: gql.WebSocketLink.247535300: Change status to idle
2022-10-12 09:33:12.347: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:33:12.348: INFO: gql.WebSocketLink.567354398: Change status to idle
2022-10-12 09:33:12.557: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"data","id":"5dc6e359-758c-4c0b-83da-e571752dd6c3","payload":{"data":{"ob_get_activities" : []}}}
2022-10-12 09:33:12.558: INFO: gql.WebSocketLink.567354398: Change status to connected
2022-10-12 09:33:12.559: FINER: gql.links.RetryUntilResponseLink: (GetActivities#2099446412): Got data
2022-10-12 09:33:12.559: FINEST: gql.links.MultiMutationLink: (GetActivities/2099446412): Got first response
2022-10-12 09:33:12.560: INFO: gql.links.MultiMutationLink: (GetActivities/2099446412): is done
2022-10-12 09:33:12.560: FINEST: gql.links.MultiMutationLink: (GetActivities/2099446412): Throttling query response...
2022-10-12 09:33:12.562: FINEST: gql.links.MultiMutationLink: (GetActivities/2099446412): Releasing response for GetActivities#2099446412 {trunc: MONTH, tzoffset: 2}
2022-10-12 09:33:12.567: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetActivities
2022-10-12 09:33:12.611: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrailsReview
2022-10-12 09:33:12.612: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2022-10-12 09:33:12.612: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:12.613: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:12.614: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:12.614: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:12.615: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetActivities
2022-10-12 09:33:14.630: FINEST: gql.links.MultiMutationLink: (GetTrails/1372108580): Cancel request
2022-10-12 09:33:14.633: FINEST: gql.links.MultiMutationLink: (GetActivities/2054404541): Cancel request
2022-10-12 09:33:14.635: FINEST: gql.links.MultiMutationLink: (GetActivities/1842365416): Cancel request
2022-10-12 09:33:14.636: FINEST: gql.links.MultiMutationLink: (GetActivities/1842365416): Cancel request
2022-10-12 09:33:14.638: FINEST: gql.links.MultiMutationLink: (GetActivities/2099446412): Cancel request
2022-10-12 09:33:14.643: FINEST: gql.links.MultiMutationLink: (GetActivities/2054404541): Cancel request
2022-10-12 09:33:14.650: FINE: gql.WebSocketLink.567354398: Cancel for GetTrails#1214984267 (d4f9a783-24ac-4272-919f-6c4539ad4cd9) {"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":true}
2022-10-12 09:33:14.652: FINE: gql.WebSocketLink.567354398: Cancel for GetActivities#1754541419 (c178f411-b1ec-4039-aa2e-ff412bc0a184) {"trunc":"HOUR","tzoffset":2}
2022-10-12 09:33:14.655: FINE: gql.WebSocketLink.567354398: Cancel for GetActivities#2095522748 (0a513bf1-efbc-46de-8b1b-25fa841b9e45) {"trunc":"DAY","tzoffset":2}
2022-10-12 09:33:14.657: FINE: gql.WebSocketLink.567354398: Cancel for GetActivities#1648177668 (dad80891-9c2e-4b41-b3c6-347d7e0e3617) {"trunc":"DAY","tzoffset":2}
2022-10-12 09:33:14.659: FINE: gql.WebSocketLink.567354398: Cancel for GetActivities#1770077444 (5dc6e359-758c-4c0b-83da-e571752dd6c3) {"trunc":"MONTH","tzoffset":2}
2022-10-12 09:33:14.662: FINE: gql.WebSocketLink.567354398: Cancel for GetActivities#2023352185 (19ceb648-3d00-4e0c-80a2-4cd2f5fc9145) {"trunc":"HOUR","tzoffset":2}
2022-10-12 09:33:14.662: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"stop","id":"d4f9a783-24ac-4272-919f-6c4539ad4cd9"}
2022-10-12 09:33:14.663: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"stop","id":"c178f411-b1ec-4039-aa2e-ff412bc0a184"}
2022-10-12 09:33:14.663: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"stop","id":"0a513bf1-efbc-46de-8b1b-25fa841b9e45"}
2022-10-12 09:33:14.663: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"stop","id":"dad80891-9c2e-4b41-b3c6-347d7e0e3617"}
2022-10-12 09:33:14.663: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"stop","id":"5dc6e359-758c-4c0b-83da-e571752dd6c3"}
2022-10-12 09:33:14.663: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"stop","id":"19ceb648-3d00-4e0c-80a2-4cd2f5fc9145"}
2022-10-12 09:33:14.667: INFO: gql.links.LogRequestsLink: Request sent: GetTrails
2022-10-12 09:33:14.700: FINEST: gql.links.MultiMutationLink: (GetTrails/1372108580): Incoming request: GetTrails#1372108580 {orderBy: asc, userId: 6npJx61xNsYlNr0BVLoS5V6XeJf2, onlyNotDeleted: true}
2022-10-12 09:33:14.709: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2022-10-12 09:33:14.714: FINEST: gql.links.MultiMutationLink: (GetTrails/1372108580): Waiting for first response...
2022-10-12 09:33:14.718: INFO: gql.WebSocketLink.567354398: Incoming request GetTrails#2128927938 (7d791f6f-d9c2-4af8-aec9-2bce1ea96f91) {"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":true}
2022-10-12 09:33:14.721: FINE: gql.WebSocketLink.567354398: Listening on GetTrails#2128927938 (7d791f6f-d9c2-4af8-aec9-2bce1ea96f91) {"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":true}
2022-10-12 09:33:14.724: FINEST: gql.WebSocketLink.567354398: connect(157614): ws(345991208): Finished successfully
2022-10-12 09:33:14.724: FINE: gql.WebSocketLink.567354398: Send StartOperation for 7d791f6f-d9c2-4af8-aec9-2bce1ea96f91
2022-10-12 09:33:14.727: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"start","id":"7d791f6f-d9c2-4af8-aec9-2bce1ea96f91","payload":{"operationName":"GetTrails","variables":{"orderBy":"asc","userId":"6npJx61xNsYlNr0BVLoS5V6XeJf2","onlyNotDeleted":true},"query":"fragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nquery GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrailsReview($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  vw_trail_reviews(order_by: {original_trail: {name: $orderBy}}, where: {original_trail: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}) {\n    __typename\n    original_trail {\n      __typename\n      ...Trail\n      deleted_at\n    }\n    pending_reviews\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    ...Trail\n    original_trail {\n      __typename\n      trail_review_stat {\n        __typename\n        pending_reviews\n      }\n    }\n    deleted_at\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($id: uuid!) {\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  file_id\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  summary_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  caption\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  review {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n}"}}
2022-10-12 09:33:14.728: FINEST: gql.WebSocketLink.567354398: ... send done for 7d791f6f-d9c2-4af8-aec9-2bce1ea96f91
2022-10-12 09:33:15.573: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"data","id":"7d791f6f-d9c2-4af8-aec9-2bce1ea96f91","payload":{"data":{"trail" : []}}}
2022-10-12 09:33:15.575: FINER: gql.links.RetryUntilResponseLink: (GetTrails#1372108580): Got data
2022-10-12 09:33:15.575: FINEST: gql.links.MultiMutationLink: (GetTrails/1372108580): Got first response
2022-10-12 09:33:15.576: INFO: gql.links.MultiMutationLink: (GetTrails/1372108580): is done
2022-10-12 09:33:15.577: FINEST: gql.links.MultiMutationLink: (GetTrails/1372108580): Throttling query response...
2022-10-12 09:33:15.582: FINEST: gql.links.MultiMutationLink: (GetTrails/1372108580): Releasing response for GetTrails#1372108580 {orderBy: asc, userId: 6npJx61xNsYlNr0BVLoS5V6XeJf2, onlyNotDeleted: true}
2022-10-12 09:33:15.588: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetTrails
2022-10-12 09:33:15.607: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrailsReview
2022-10-12 09:33:15.608: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrails
2022-10-12 09:33:17.007: FINE: NewTrailPageFormController: Create empty trail state
2022-10-12 09:33:17.012: INFO: gql.links.LogRequestsLink: Request sent: GetManagedOrgs
2022-10-12 09:33:17.172: FINEST: gql.links.MultiMutationLink: (GetManagedOrgs/8440294): Incoming request: GetManagedOrgs#8440294 {}
2022-10-12 09:33:17.179: FINEST: gql.links.MultiMutationLink: (GetManagedOrgs/8440294): Waiting for first response...
2022-10-12 09:33:17.182: INFO: gql.WebSocketLink.567354398: Incoming request GetManagedOrgs#1585652572 (4bce117a-6ff8-4695-9ad2-94edba60460f) {}
2022-10-12 09:33:17.184: FINE: gql.WebSocketLink.567354398: Listening on GetManagedOrgs#1585652572 (4bce117a-6ff8-4695-9ad2-94edba60460f) {}
2022-10-12 09:33:17.185: FINEST: gql.WebSocketLink.567354398: connect(154532): ws(307607526): Finished successfully
2022-10-12 09:33:17.186: FINE: gql.WebSocketLink.567354398: Send StartOperation for 4bce117a-6ff8-4695-9ad2-94edba60460f
2022-10-12 09:33:17.188: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"start","id":"4bce117a-6ff8-4695-9ad2-94edba60460f","payload":{"operationName":"GetManagedOrgs","variables":{},"query":"fragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nquery GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrailsReview($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  vw_trail_reviews(order_by: {original_trail: {name: $orderBy}}, where: {original_trail: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}) {\n    __typename\n    original_trail {\n      __typename\n      ...Trail\n      deleted_at\n    }\n    pending_reviews\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    ...Trail\n    original_trail {\n      __typename\n      trail_review_stat {\n        __typename\n        pending_reviews\n      }\n    }\n    deleted_at\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($id: uuid!) {\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  file_id\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  summary_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  caption\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  review {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n}"}}
2022-10-12 09:33:17.189: FINEST: gql.WebSocketLink.567354398: ... send done for 4bce117a-6ff8-4695-9ad2-94edba60460f
2022-10-12 09:33:17.223: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:33:17.246: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"data","id":"4bce117a-6ff8-4695-9ad2-94edba60460f","payload":{"data":{"__typename":"query_root","organisation":[{"__typename":"organisation","id":"037366df-0184-4e01-91d6-807d4c5000fe","name":"JaniOrg","url":null}]}}}
2022-10-12 09:33:17.247: FINER: gql.links.RetryUntilResponseLink: (GetManagedOrgs#8440294): Got data
2022-10-12 09:33:17.247: FINEST: gql.links.MultiMutationLink: (GetManagedOrgs/8440294): Got first response
2022-10-12 09:33:17.248: INFO: gql.links.MultiMutationLink: (GetManagedOrgs/8440294): is done
2022-10-12 09:33:17.248: FINEST: gql.links.MultiMutationLink: (GetManagedOrgs/8440294): Throttling query response...
2022-10-12 09:33:17.250: FINEST: gql.links.MultiMutationLink: (GetManagedOrgs/8440294): Releasing response for GetManagedOrgs#8440294 {}
2022-10-12 09:33:17.256: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetManagedOrgs
2022-10-12 09:33:17.258: FINEST: gql.links.MultiMutationLink: (GetManagedOrgs/8440294): Cancel request
2022-10-12 09:33:17.262: FINE: gql.WebSocketLink.567354398: Cancel for GetManagedOrgs#1585652572 (4bce117a-6ff8-4695-9ad2-94edba60460f) {}
2022-10-12 09:33:17.263: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"stop","id":"4bce117a-6ff8-4695-9ad2-94edba60460f"}
2022-10-12 09:33:17.264: INFO: gql.links.LogRequestsLink: Request sent: GetRewardTypes
2022-10-12 09:33:17.280: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"complete","id":"4bce117a-6ff8-4695-9ad2-94edba60460f"}
2022-10-12 09:33:17.335: FINEST: gql.links.MultiMutationLink: (GetRewardTypes/979960027): Incoming request: GetRewardTypes#979960027 {}
2022-10-12 09:33:17.338: FINEST: gql.links.MultiMutationLink: (GetRewardTypes/979960027): Waiting for first response...
2022-10-12 09:33:17.339: INFO: gql.WebSocketLink.567354398: Incoming request GetRewardTypes#75927856 (bf71e329-d867-4020-a7b9-a66c69c7d36f) {}
2022-10-12 09:33:17.340: FINE: gql.WebSocketLink.567354398: Listening on GetRewardTypes#75927856 (bf71e329-d867-4020-a7b9-a66c69c7d36f) {}
2022-10-12 09:33:17.340: FINEST: gql.WebSocketLink.567354398: connect(188426): ws(768678556): Finished successfully
2022-10-12 09:33:17.340: FINE: gql.WebSocketLink.567354398: Send StartOperation for bf71e329-d867-4020-a7b9-a66c69c7d36f
2022-10-12 09:33:17.341: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"start","id":"bf71e329-d867-4020-a7b9-a66c69c7d36f","payload":{"operationName":"GetRewardTypes","variables":{},"query":"query GetRewardTypes {\n  __typename\n  reward_type(order_by: {weight: asc}) {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}"}}
2022-10-12 09:33:17.342: FINEST: gql.WebSocketLink.567354398: ... send done for bf71e329-d867-4020-a7b9-a66c69c7d36f
2022-10-12 09:33:17.355: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:33:17.356: INFO: gql.WebSocketLink.567354398: Change status to idle
2022-10-12 09:33:17.391: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"data","id":"bf71e329-d867-4020-a7b9-a66c69c7d36f","payload":{"data":{"__typename":"query_root","reward_type":[{"__typename":"reward_type","id":"dd2701a9-52da-42a5-b0d2-78c00b872452","name_en":"Fame","name_hu":"Hrnv","material_icon_name":"flowerOutline","weight":10}, {"__typename":"reward_type","id":"c3b152fa-f852-4c43-a47d-c3523c6c45e8","name_en":"Badge","name_hu":"Kitz","material_icon_name":"album","weight":20}, {"__typename":"reward_type","id":"1dce5846-135b-4965-ab7e-ccfbe6523450","name_en":"Medal","name_hu":"rem","material_icon_name":"medal","weight":30}]}}}
2022-10-12 09:33:17.392: INFO: gql.WebSocketLink.567354398: Change status to connected
2022-10-12 09:33:17.393: FINER: gql.links.RetryUntilResponseLink: (GetRewardTypes#979960027): Got data
2022-10-12 09:33:17.393: FINEST: gql.links.MultiMutationLink: (GetRewardTypes/979960027): Got first response
2022-10-12 09:33:17.394: INFO: gql.links.MultiMutationLink: (GetRewardTypes/979960027): is done
2022-10-12 09:33:17.394: FINEST: gql.links.MultiMutationLink: (GetRewardTypes/979960027): Throttling query response...
2022-10-12 09:33:17.395: FINEST: gql.links.MultiMutationLink: (GetRewardTypes/979960027): Releasing response for GetRewardTypes#979960027 {}
2022-10-12 09:33:17.400: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetRewardTypes
2022-10-12 09:33:17.405: FINEST: gql.links.MultiMutationLink: (GetRewardTypes/979960027): Cancel request
2022-10-12 09:33:17.407: FINE: gql.WebSocketLink.567354398: Cancel for GetRewardTypes#75927856 (bf71e329-d867-4020-a7b9-a66c69c7d36f) {}
2022-10-12 09:33:17.418: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"stop","id":"bf71e329-d867-4020-a7b9-a66c69c7d36f"}
2022-10-12 09:33:17.418: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrailsReview
2022-10-12 09:33:17.420: INFO: gql.links.LogRequestsLink: Request sent: GetActivityTypes
2022-10-12 09:33:17.434: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"complete","id":"bf71e329-d867-4020-a7b9-a66c69c7d36f"}
2022-10-12 09:33:17.459: FINEST: gql.links.MultiMutationLink: (GetActivityTypes/1843587371): Incoming request: GetActivityTypes#1843587371 {}
2022-10-12 09:33:17.462: FINEST: gql.links.MultiMutationLink: (GetActivityTypes/1843587371): Waiting for first response...
2022-10-12 09:33:17.463: INFO: gql.WebSocketLink.567354398: Incoming request GetActivityTypes#1142441597 (6e7ebdb4-f5a4-4979-957e-e67884bf2848) {}
2022-10-12 09:33:17.464: FINE: gql.WebSocketLink.567354398: Listening on GetActivityTypes#1142441597 (6e7ebdb4-f5a4-4979-957e-e67884bf2848) {}
2022-10-12 09:33:17.464: FINEST: gql.WebSocketLink.567354398: connect(173133): ws(654006323): Finished successfully
2022-10-12 09:33:17.465: FINE: gql.WebSocketLink.567354398: Send StartOperation for 6e7ebdb4-f5a4-4979-957e-e67884bf2848
2022-10-12 09:33:17.465: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"start","id":"6e7ebdb4-f5a4-4979-957e-e67884bf2848","payload":{"operationName":"GetActivityTypes","variables":{},"query":"query GetActivityTypes {\n  __typename\n  activity_type(order_by: {weight: asc}) {\n    __typename\n    ...ActivityType\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}"}}
2022-10-12 09:33:17.465: FINEST: gql.WebSocketLink.567354398: ... send done for 6e7ebdb4-f5a4-4979-957e-e67884bf2848
2022-10-12 09:33:17.508: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"data","id":"6e7ebdb4-f5a4-4979-957e-e67884bf2848","payload":{"data":{"__typename":"query_root","activity_type":[{"__typename":"activity_type","id":"f602d0e2-56d7-439f-a2a3-61ff0fb6e8a2","name_en":"Hike","name_hu":"Trzva","material_icon_name":"walk","weight":10}, {"__typename":"activity_type","id":"ab3b9b84-62d4-41cf-8bc9-4ae458b09cc1","name_en":"Bike","name_hu":"Biciklivel","material_icon_name":"bike","weight":20}, {"__typename":"activity_type","id":"e310caea-216e-4fa8-af02-5855ed31a47d","name_en":"Run","name_hu":"Futva","material_icon_name":"run","weight":30}]}}}
2022-10-12 09:33:17.510: FINER: gql.links.RetryUntilResponseLink: (GetActivityTypes#1843587371): Got data
2022-10-12 09:33:17.510: FINEST: gql.links.MultiMutationLink: (GetActivityTypes/1843587371): Got first response
2022-10-12 09:33:17.511: INFO: gql.links.MultiMutationLink: (GetActivityTypes/1843587371): is done
2022-10-12 09:33:17.511: FINEST: gql.links.MultiMutationLink: (GetActivityTypes/1843587371): Throttling query response...
2022-10-12 09:33:17.511: FINEST: gql.links.MultiMutationLink: (GetActivityTypes/1843587371): Releasing response for GetActivityTypes#1843587371 {}
2022-10-12 09:33:17.517: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetActivityTypes
2022-10-12 09:33:17.524: FINEST: gql.links.MultiMutationLink: (GetActivityTypes/1843587371): Cancel request
2022-10-12 09:33:17.526: FINE: gql.WebSocketLink.567354398: Cancel for GetActivityTypes#1142441597 (6e7ebdb4-f5a4-4979-957e-e67884bf2848) {}
2022-10-12 09:33:17.536: FINEST: gql.WebSocketLink.567354398: Encoded message: {"type":"stop","id":"6e7ebdb4-f5a4-4979-957e-e67884bf2848"}
2022-10-12 09:33:17.537: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetTrailsReview
2022-10-12 09:33:17.551: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"complete","id":"6e7ebdb4-f5a4-4979-957e-e67884bf2848"}
2022-10-12 09:33:19.056: INFO: gql.links.LogRequestsLink: Request sent: SetGuideCompleted
2022-10-12 09:33:19.085: FINEST: gql.links.MultiMutationLink: (SetGuideCompleted/1933804083): Incoming request: SetGuideCompleted#1933804083 {id: 6npJx61xNsYlNr0BVLoS5V6XeJf2}
2022-10-12 09:33:19.116: FINEST: gql.links.MultiMutationLink: (SetGuideCompleted/1933804083): Mutation saved to box with id 0
2022-10-12 09:33:19.119: FINEST: gql.links.MultiMutationLink: (SetGuideCompleted/1933804083): Register request on listen: SetGuideCompleted#1933804083 {id: 6npJx61xNsYlNr0BVLoS5V6XeJf2}. Queue length: 0
2022-10-12 09:33:19.120: FINEST: gql.links.MultiMutationLink: (SetGuideCompleted/1933804083): run a single mutation, no batching
2022-10-12 09:33:19.124: INFO: gql.WebSocketLink.247535300: Incoming request SetGuideCompleted#2102091198 (1a2d0f8d-fb29-414e-986f-37abdfd9182e) {"id":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2022-10-12 09:33:19.127: FINE: gql.WebSocketLink.247535300: Listening on SetGuideCompleted#2102091198 (1a2d0f8d-fb29-414e-986f-37abdfd9182e) {"id":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2022-10-12 09:33:19.129: FINEST: gql.links.MultiMutationLink: Completing 1933804083...
2022-10-12 09:33:19.130: INFO: gql.WebSocketLink.247535300: Change status to connected
2022-10-12 09:33:19.130: FINEST: gql.WebSocketLink.247535300: connect(177890): ws(351814108): Finished successfully
2022-10-12 09:33:19.130: FINE: gql.WebSocketLink.247535300: Send StartOperation for 1a2d0f8d-fb29-414e-986f-37abdfd9182e
2022-10-12 09:33:19.133: FINEST: gql.WebSocketLink.247535300: Encoded message: {"type":"start","id":"1a2d0f8d-fb29-414e-986f-37abdfd9182e","payload":{"operationName":"SetGuideCompleted","variables":{"id":"6npJx61xNsYlNr0BVLoS5V6XeJf2"},"query":"fragment Trail on trail {\n  __typename\n  id\n  name\n  ...TrailCardFields\n}\n\nquery GetManagedOrgs {\n  __typename\n  organisation(order_by: {name: asc}) {\n    __typename\n    ...Organisation\n  }\n}\n\nsubscription GetTrailsReview($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  vw_trail_reviews(order_by: {original_trail: {name: $orderBy}}, where: {original_trail: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}) {\n    __typename\n    original_trail {\n      __typename\n      ...Trail\n      deleted_at\n    }\n    pending_reviews\n  }\n}\n\nsubscription GetTrails($orderBy: order_by!, $userId: String!, $onlyNotDeleted: Boolean!) {\n  trail(order_by: {name: $orderBy}, where: {_or: [{deleted_at: {_is_null: true}}, {deleted_at: {_is_null: $onlyNotDeleted}}], organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}) {\n    __typename\n    ...Trail\n    original_trail {\n      __typename\n      trail_review_stat {\n        __typename\n        pending_reviews\n      }\n    }\n    deleted_at\n  }\n}\n\nmutation CreateTrail($trail: trail_insert_input!) {\n  __typename\n  insert_trail_one(object: $trail) {\n    __typename\n    ...Trail\n  }\n}\n\nmutation SoftDeleteTrail($id: uuid!, $time: timestamptz) {\n  __typename\n  update_trail_by_pk(pk_columns: {id: $id}, _set: {deleted_at: $time}) {\n    __typename\n    ...Trail\n  }\n}\n\nsubscription GetActivities($trunc: String, $tzoffset: Int) {\n  ob_get_activities(args: {trunc: $trunc, tzoffset: $tzoffset}) {\n    __typename\n    time\n    created\n    planned\n    started\n    gaveup\n    finished\n    rejected\n    original_id\n  }\n}\n\nsubscription GetToplist($originalId: uuid) {\n  activity(where: {_and: {trail_config: {trail: {original_id: {_eq: $originalId}}}}, start_at: {_is_null: false}, end_at: {_is_null: false}}) {\n    __typename\n    id\n    ...ActivityTimes\n    created_by {\n      __typename\n      ...Profile\n    }\n    trail_config {\n      __typename\n      ...TrailConfig\n    }\n  }\n}\n\nsubscription GetHistory($userId: String!) {\n  activity(where: {_and: {start_at: {_is_null: false}, end_at: {_is_null: false}, trail_config: {trail: {organisation: {organisation_memberships: {_and: {member_type: {_eq: admin}, user_id: {_eq: $userId}}}}}}}}) {\n    __typename\n    ...ActivityTimes\n    created_by {\n      __typename\n      name\n      birth_year\n      address\n      email\n      phone\n    }\n    trail_config {\n      __typename\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n      trail {\n        __typename\n        name\n      }\n      trail_id\n    }\n  }\n}\n\nsubscription GetReachedCheckpoints($activityId: uuid!) {\n  activity_by_pk(id: $activityId) {\n    __typename\n    id\n    activity__pathpoints(where: {checkpoint_id: {_is_null: false}}, order_by: [{reached_at: asc}]) {\n      __typename\n      reached_at\n      checkpoint {\n        __typename\n        ...Checkpoint\n      }\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        circular_checkpoints\n        checkpoints(order_by: {index: asc}) {\n          __typename\n          ...Checkpoint\n        }\n      }\n    }\n    ...ActivityStateFields\n  }\n}\n\nsubscription AdminQueryTrailDetails($id: uuid!) {\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nquery AdminQueryEditTrail($id: uuid!) {\n  __typename\n  trail_by_pk(id: $id) {\n    __typename\n    id\n    trail_path\n    ...TrailCardFields\n    ...NewEntryStepsFields\n    checkpoints(order_by: {index: asc}) {\n      __typename\n      ...Checkpoint\n    }\n  }\n}\n\nsubscription GetPositionsByTrailId($id: uuid!) {\n  activity(where: {_and: {start_at: {_is_null: false}, giveup_at: {_is_null: true}, end_at: {_is_null: true}, deleted_at: {_is_null: true}, rejected_at: {_is_null: true}}, trail_config: {trail_id: {_eq: $id}}}) {\n    __typename\n    id\n    last_path_point {\n      __typename\n      location\n      created_at\n    }\n    created_by {\n      __typename\n      id\n      name\n    }\n    trail_config {\n      __typename\n      trail {\n        __typename\n        id\n      }\n      activity_type {\n        __typename\n        ...ActivityType\n      }\n      reward_type {\n        __typename\n        ...RewardType\n      }\n    }\n  }\n}\n\nquery GetFileUri($id: uuid!) {\n  __typename\n  file_by_pk(id: $id) {\n    __typename\n    uri\n  }\n}\n\nmutation SetGuideCompleted($id: String!) {\n  __typename\n  update_profile_by_pk(pk_columns: {id: $id}, _set: {guide_completed: true}) {\n    __typename\n    id\n    guide_completed\n  }\n}\n\nmutation InsertTrailFile($trail_id: uuid!, $file_id: uuid!) {\n  __typename\n  insert_trail_files_one(object: {file_id: $file_id, trail_id: $trail_id}) {\n    __typename\n    file_id\n    id\n    trail_id\n  }\n}\n\nfragment ActivityType on activity_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment RewardType on reward_type {\n  __typename\n  id\n  name_en\n  name_hu\n  material_icon_name\n  weight\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}\n\nfragment ActivityTimes on activity {\n  __typename\n  start_at\n  end_at\n  planned_at\n}\n\nfragment Checkpoint on checkpoint {\n  __typename\n  id\n  name\n  index\n  location\n  range_meters\n  file_id\n}\n\nfragment CheckpointExt on checkpoint {\n  __typename\n  ...Checkpoint\n  description\n}\n\nfragment NewEntryStepsFields on trail {\n  __typename\n  id\n  deleted_at\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n  organisation {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment TrailConfig on trail_config {\n  __typename\n  id\n  trail_id\n  completion_note\n  limit_seconds\n  pricing\n  approve_required\n  activity_type {\n    __typename\n    ...ActivityType\n  }\n  reward_type {\n    __typename\n    ...RewardType\n  }\n}\n\nfragment TrailCardFields on trail {\n  __typename\n  name\n  summary\n  description\n  summary_path\n  elevation_meters\n  length_meters\n  minimum_height_meters\n  maximum_height_meters\n  popularity\n  circular_checkpoints\n  accessible\n  difficulty\n  original_id\n  payment_info\n  trail_configs {\n    __typename\n    ...TrailConfig\n  }\n}\n\nfragment ActivityStateFields on activity {\n  __typename\n  deleted_at\n  planned_at\n  approved_at\n  start_at\n  end_at\n  giveup_at\n  rejected_at\n  trail_config {\n    __typename\n    id\n    approve_required\n  }\n}\n\nfragment Review on review {\n  __typename\n  caption\n  created_at\n  description\n  id\n  rating\n  activity_id\n  accepted_at\n  rejected_at\n  admin_comment\n  reviewed_by_id\n}\n\nfragment ActivityReviews on activity {\n  __typename\n  review {\n    __typename\n    ...Review\n  }\n  created_by {\n    __typename\n    name\n    id\n  }\n  id\n  end_at\n}"}}
2022-10-12 09:33:19.134: FINEST: gql.WebSocketLink.247535300: ... send done for 1a2d0f8d-fb29-414e-986f-37abdfd9182e
2022-10-12 09:33:19.193: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"data","id":"1a2d0f8d-fb29-414e-986f-37abdfd9182e","payload":{"data":{"__typename":"mutation_root","update_profile_by_pk":{"__typename":"profile","id":"6npJx61xNsYlNr0BVLoS5V6XeJf2","guide_completed":true}}}}
2022-10-12 09:33:19.195: FINER: gql.links.RetryUntilResponseLink: (SetGuideCompleted#1933804083): Got data
2022-10-12 09:33:19.197: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"complete","id":"1a2d0f8d-fb29-414e-986f-37abdfd9182e"}
2022-10-12 09:33:19.201: FINE: gql.WebSocketLink.247535300: Done for SetGuideCompleted#2102091198 (1a2d0f8d-fb29-414e-986f-37abdfd9182e) {"id":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2022-10-12 09:33:19.204: FINE: gql.WebSocketLink.247535300: Cancel for SetGuideCompleted#2102091198 (1a2d0f8d-fb29-414e-986f-37abdfd9182e) {"id":"6npJx61xNsYlNr0BVLoS5V6XeJf2"}
2022-10-12 09:33:19.204: FINER: gql.links.RetryUntilResponseLink: (SetGuideCompleted#1933804083): Got done
2022-10-12 09:33:19.207: FINEST: gql.links.MultiMutationLink: Value sent for 1933804083
2022-10-12 09:33:19.207: FINEST: gql.links.MultiMutationLink: Response stream controller was closed: false
2022-10-12 09:33:19.209: FINEST: gql.links.MultiMutationLink: Deleting 1933804083 (boxId: 0)
2022-10-12 09:33:19.215: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for SetGuideCompleted
2022-10-12 09:33:19.254: INFO: gql.links.MultiMutationLink: (SetGuideCompleted/1933804083): is done
2022-10-12 09:33:19.984: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"data","id":"7a8ef4c6-cae8-4cf5-aded-7eea6bc9ee5b","payload":{"data":{"vw_full_profile" : [{"__typename":"vw_full_profile","id":"6npJx61xNsYlNr0BVLoS5V6XeJf2","name":"Roden Janos","birth_year":1984,"gender":"male","language":null,"email":"jani9876@gmail.com","phone":"+36706087783","vat_id":"d","city":"","address":"33","company_name":"e.v.","postal_code":1137,"guide_completed":true,"organisations_created_by_me":[{"__typename":"organisation","id":"037366df-0184-4e01-91d6-807d4c5000fe","name":"JaniOrg","url":null}]}]}}}
2022-10-12 09:33:19.985: FINER: gql.links.RetryUntilResponseLink: (GetCurrentUserProfile#1946251868): Got data
2022-10-12 09:33:19.986: FINEST: gql.links.MultiMutationLink: (GetCurrentUserProfile/1946251868): Throttling query response...
2022-10-12 09:33:19.986: FINEST: gql.links.MultiMutationLink: (GetCurrentUserProfile/1946251868): Releasing response for GetCurrentUserProfile#1946251868 {id: 6npJx61xNsYlNr0BVLoS5V6XeJf2}
2022-10-12 09:33:19.990: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetCurrentUserProfile
2022-10-12 09:33:19.994: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetCurrentUserProfile
2022-10-12 09:33:19.996: INFO: gql.links.LogRequestsLink: Request sent: GetAgreements
2022-10-12 09:33:20.001: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Incoming request: GetAgreements#1240288031 {includeUserAgreements: true}
2022-10-12 09:33:20.005: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetAgreements
2022-10-12 09:33:20.006: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Waiting for first response...
2022-10-12 09:33:20.007: INFO: gql.WebSocketLink.247535300: Incoming request GetAgreements#638154692 (149ad4ae-3c87-4f72-b46c-2ad957893a78) {"includeUserAgreements":true}
2022-10-12 09:33:20.008: FINE: gql.WebSocketLink.247535300: Listening on GetAgreements#638154692 (149ad4ae-3c87-4f72-b46c-2ad957893a78) {"includeUserAgreements":true}
2022-10-12 09:33:20.009: FINEST: gql.WebSocketLink.247535300: connect(101206): ws(522133507): Finished successfully
2022-10-12 09:33:20.009: FINE: gql.WebSocketLink.247535300: Send StartOperation for 149ad4ae-3c87-4f72-b46c-2ad957893a78
2022-10-12 09:33:20.010: FINEST: gql.WebSocketLink.247535300: Encoded message: {"type":"start","id":"149ad4ae-3c87-4f72-b46c-2ad957893a78","payload":{"operationName":"GetAgreements","variables":{"includeUserAgreements":true},"query":"query GetAgreements($includeUserAgreements: Boolean!) {\n  __typename\n  agreement(where: {next_version_id: {_is_null: true}}) {\n    __typename\n    id\n    name_en\n    name_hu\n    changes_en\n    changes_hu\n    content_en\n    content_hu\n    created_at\n    agreement_profiles @include(if: $includeUserAgreements) {\n      __typename\n      id\n      created_at\n    }\n    prev_version {\n      __typename\n      agreement_profiles @include(if: $includeUserAgreements) {\n        __typename\n        id\n        created_at\n      }\n    }\n  }\n}\n\nmutation InsertAcceptAgreements($objects: [agreement_profile_insert_input!]!) {\n  __typename\n  insert_agreement_profile(objects: $objects) {\n    __typename\n    returning {\n      __typename\n      id\n      created_at\n    }\n  }\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}"}}
2022-10-12 09:33:20.011: FINEST: gql.WebSocketLink.247535300: ... send done for 149ad4ae-3c87-4f72-b46c-2ad957893a78
2022-10-12 09:33:20.058: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"data","id":"149ad4ae-3c87-4f72-b46c-2ad957893a78","payload":{"data":{"__typename":"query_root","agreement":[]}}}
2022-10-12 09:33:20.059: FINER: gql.links.RetryUntilResponseLink: (GetAgreements#1240288031): Got data
2022-10-12 09:33:20.060: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Got first response
2022-10-12 09:33:20.060: INFO: gql.links.MultiMutationLink: (GetAgreements/1240288031): is done
2022-10-12 09:33:20.060: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Throttling query response...
2022-10-12 09:33:20.061: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Releasing response for GetAgreements#1240288031 {includeUserAgreements: true}
2022-10-12 09:33:20.063: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetAgreements
2022-10-12 09:33:20.063: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Cancel request
2022-10-12 09:33:20.065: FINE: gql.WebSocketLink.247535300: Cancel for GetAgreements#638154692 (149ad4ae-3c87-4f72-b46c-2ad957893a78) {"includeUserAgreements":true}
2022-10-12 09:33:20.066: FINEST: gql.WebSocketLink.247535300: Encoded message: {"type":"stop","id":"149ad4ae-3c87-4f72-b46c-2ad957893a78"}
2022-10-12 09:33:20.068: INFO: gql.links.LogRequestsLink: Request sent: GetAgreements
2022-10-12 09:33:20.073: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"complete","id":"149ad4ae-3c87-4f72-b46c-2ad957893a78"}
2022-10-12 09:33:20.077: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Incoming request: GetAgreements#1240288031 {includeUserAgreements: true}
2022-10-12 09:33:20.079: FINE: gql.links.LogRequestsLink: Got DataSource.Cache response for GetAgreements
2022-10-12 09:33:20.080: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Waiting for first response...
2022-10-12 09:33:20.081: INFO: gql.WebSocketLink.247535300: Incoming request GetAgreements#2117260710 (99fe1a31-4463-4c44-aa40-3b745554a084) {"includeUserAgreements":true}
2022-10-12 09:33:20.082: FINE: gql.WebSocketLink.247535300: Listening on GetAgreements#2117260710 (99fe1a31-4463-4c44-aa40-3b745554a084) {"includeUserAgreements":true}
2022-10-12 09:33:20.082: FINEST: gql.WebSocketLink.247535300: connect(100092): ws(43442298): Finished successfully
2022-10-12 09:33:20.083: FINE: gql.WebSocketLink.247535300: Send StartOperation for 99fe1a31-4463-4c44-aa40-3b745554a084
2022-10-12 09:33:20.083: FINEST: gql.WebSocketLink.247535300: Encoded message: {"type":"start","id":"99fe1a31-4463-4c44-aa40-3b745554a084","payload":{"operationName":"GetAgreements","variables":{"includeUserAgreements":true},"query":"query GetAgreements($includeUserAgreements: Boolean!) {\n  __typename\n  agreement(where: {next_version_id: {_is_null: true}}) {\n    __typename\n    id\n    name_en\n    name_hu\n    changes_en\n    changes_hu\n    content_en\n    content_hu\n    created_at\n    agreement_profiles @include(if: $includeUserAgreements) {\n      __typename\n      id\n      created_at\n    }\n    prev_version {\n      __typename\n      agreement_profiles @include(if: $includeUserAgreements) {\n        __typename\n        id\n        created_at\n      }\n    }\n  }\n}\n\nmutation InsertAcceptAgreements($objects: [agreement_profile_insert_input!]!) {\n  __typename\n  insert_agreement_profile(objects: $objects) {\n    __typename\n    returning {\n      __typename\n      id\n      created_at\n    }\n  }\n}\n\nfragment Profile on profile {\n  __typename\n  id\n  name\n  birth_year\n}\n\nfragment ProfileExt on profile {\n  __typename\n  ...Profile\n  gender\n  guide_completed\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n}\n\nfragment FullProfile on vw_full_profile {\n  __typename\n  id\n  name\n  birth_year\n  gender\n  language\n  email\n  phone\n  vat_id\n  city\n  address\n  company_name\n  postal_code\n  guide_completed\n  organisations_created_by_me {\n    __typename\n    ...Organisation\n  }\n}\n\nfragment Organisation on organisation {\n  __typename\n  id\n  name\n  url\n}\n\nfragment OrganisationExt on organisation {\n  __typename\n  ...Organisation\n  payment_url\n  email\n  created_at\n}"}}
2022-10-12 09:33:20.084: FINEST: gql.WebSocketLink.247535300: ... send done for 99fe1a31-4463-4c44-aa40-3b745554a084
2022-10-12 09:33:20.128: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"data","id":"99fe1a31-4463-4c44-aa40-3b745554a084","payload":{"data":{"__typename":"query_root","agreement":[]}}}
2022-10-12 09:33:20.130: FINER: gql.links.RetryUntilResponseLink: (GetAgreements#1240288031): Got data
2022-10-12 09:33:20.131: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Got first response
2022-10-12 09:33:20.131: INFO: gql.links.MultiMutationLink: (GetAgreements/1240288031): is done
2022-10-12 09:33:20.131: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Throttling query response...
2022-10-12 09:33:20.132: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Releasing response for GetAgreements#1240288031 {includeUserAgreements: true}
2022-10-12 09:33:20.134: FINE: gql.links.LogRequestsLink: Got DataSource.Link response for GetAgreements
2022-10-12 09:33:20.135: FINEST: gql.links.MultiMutationLink: (GetAgreements/1240288031): Cancel request
2022-10-12 09:33:20.136: FINE: gql.WebSocketLink.247535300: Cancel for GetAgreements#2117260710 (99fe1a31-4463-4c44-aa40-3b745554a084) {"includeUserAgreements":true}
2022-10-12 09:33:20.137: FINEST: gql.WebSocketLink.247535300: Encoded message: {"type":"stop","id":"99fe1a31-4463-4c44-aa40-3b745554a084"}
2022-10-12 09:33:20.139: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"complete","id":"99fe1a31-4463-4c44-aa40-3b745554a084"}
2022-10-12 09:33:21.043: SHOUT: ElevationHelper: Failed to encode the image into bytes.: 
2022-10-12 09:33:21.044: FINEST: NewTrailPageFormController: Total elevation gain: 0 m
2022-10-12 09:33:21.044: FINEST: NewTrailPageFormController: Total distance: 0 m
2022-10-12 09:33:21.044: FINEST: NewTrailPageFormController: Min height: 0 m
2022-10-12 09:33:21.045: FINEST: NewTrailPageFormController: Max height: 0 m
2022-10-12 09:33:21.703: SHOUT: ElevationHelper: Failed to encode the image into bytes.: 
2022-10-12 09:33:21.704: FINEST: NewTrailPageFormController: Total elevation gain: 0 m
2022-10-12 09:33:21.704: FINEST: NewTrailPageFormController: Total distance: 205.48551581353743 m
2022-10-12 09:33:21.704: FINEST: NewTrailPageFormController: Min height: 0 m
2022-10-12 09:33:21.705: FINEST: NewTrailPageFormController: Max height: 0 m
2022-10-12 09:33:22.198: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:33:22.198: INFO: gql.WebSocketLink.247535300: Change status to idle
2022-10-12 09:33:22.338: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:33:22.338: INFO: gql.WebSocketLink.567354398: Change status to idle
2022-10-12 09:33:27.203: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:33:27.337: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:33:32.220: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:33:32.353: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:33:37.210: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:33:37.342: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:33:37.936: SHOUT: ElevationHelper: Failed to encode the image into bytes.: 
2022-10-12 09:33:37.936: FINEST: NewTrailPageFormController: Total elevation gain: 0 m
2022-10-12 09:33:37.936: FINEST: NewTrailPageFormController: Total distance: 747.3357532187667 m
2022-10-12 09:33:37.937: FINEST: NewTrailPageFormController: Min height: 0 m
2022-10-12 09:33:37.937: FINEST: NewTrailPageFormController: Max height: 0 m
2022-10-12 09:33:39.675: FINEST: NewTrailPageFormController: Total elevation gain: 0 m
2022-10-12 09:33:39.676: FINEST: NewTrailPageFormController: Total distance: 747.3357532187667 m
2022-10-12 09:33:39.676: FINEST: NewTrailPageFormController: Min height: 0 m
2022-10-12 09:33:39.676: FINEST: NewTrailPageFormController: Max height: 0 m
2022-10-12 09:33:42.201: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:33:42.340: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:33:42.379: SHOUT: ElevationHelper: Failed to encode the image into bytes.: 
2022-10-12 09:33:42.380: FINEST: NewTrailPageFormController: Total elevation gain: 0 m
2022-10-12 09:33:42.380: FINEST: NewTrailPageFormController: Total distance: 1092.832921879332 m
2022-10-12 09:33:42.380: FINEST: NewTrailPageFormController: Min height: 0 m
2022-10-12 09:33:42.380: FINEST: NewTrailPageFormController: Max height: 0 m
2022-10-12 09:33:47.224: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:33:47.340: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:33:49.243: FINEST: NewTrailPageFormController: Total elevation gain: 0 m
2022-10-12 09:33:49.243: FINEST: NewTrailPageFormController: Total distance: 1092.832921879332 m
2022-10-12 09:33:49.244: FINEST: NewTrailPageFormController: Min height: 0 m
2022-10-12 09:33:49.244: FINEST: NewTrailPageFormController: Max height: 0 m
2022-10-12 09:33:50.955: FINEST: NewTrailPageFormController: Total elevation gain: 0 m
2022-10-12 09:33:50.955: FINEST: NewTrailPageFormController: Total distance: 1092.832921879332 m
2022-10-12 09:33:50.956: FINEST: NewTrailPageFormController: Min height: 0 m
2022-10-12 09:33:50.956: FINEST: NewTrailPageFormController: Max height: 0 m
2022-10-12 09:33:52.201: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:33:52.341: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:33:57.202: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:33:57.342: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:34:02.203: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:34:02.345: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:34:07.204: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:34:07.344: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:34:12.205: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:34:12.345: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:34:17.205: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:34:17.346: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:34:22.207: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:34:22.346: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:34:27.207: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:34:27.354: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:34:32.209: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:34:32.347: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:34:37.208: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:34:37.348: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:34:42.209: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:34:42.349: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:34:47.239: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:34:47.353: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:34:52.239: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:34:52.352: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:34:57.248: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:34:57.361: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:35:02.243: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:35:02.354: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:35:07.249: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:35:07.352: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
2022-10-12 09:35:12.243: FINEST: gql.WebSocketLink.247535300: Message to decode: {"type":"ka"}
2022-10-12 09:35:12.354: FINEST: gql.WebSocketLink.567354398: Message to decode: {"type":"ka"}
